<div *ngIf="isOpenForm">
    <form class="sf-form" [formGroup]="sharedFamilyMemberForm">
        <div class="margin-left-45">
            <div class="row margin-top-20">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Family Member
                        </span><span class="mandatory">*</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-autoComplete name="familyMemberID" [(ngModel)]="familyMember.familyMemberID"
                            [dropdown]="true" [forceSelection]="true" [suggestions]="metaData"
                            formControlName="familyMemberID" (completeMethod)="getMetaData($event,'familyMember')"
                            field="name">
                            <ng-template let-familyMemberID pTemplate="item">
                                <div class="ui-helper-clearfix dropdown-list">
                                    <table style="width: 100%;">
                                        <tr>
                                            <td><b>Name</b></td>
                                            <td>:</td>
                                            <td>{{familyMemberID?.name}}</td>
                                        </tr>
                                        <tr>
                                            <td><b>DOB</b></td>
                                            <td>:</td>
                                            <td>{{familyMemberID?.dob}}</td>
                                        </tr>
                                        <tr>
                                            <td><b>SSN</b></td>
                                            <td>:</td>
                                            <td>{{familyMemberID?.ssn}}</td>
                                        </tr>
                                        <tr>
                                            <td><b>Facts</b></td>
                                            <td>:</td>
                                            <td>{{familyMemberID?.facts}}</td>
                                        </tr>
                                    </table>
                                </div>
                            </ng-template>
                        </p-autoComplete>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Begin Date</span><span class="mandatory">*</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-calendar name="beginDate" [(ngModel)]="familyMember.beginDate" [showTime]="true"
                            [showIcon]="true" [monthNavigator]="true" [yearNavigator]="true" yearRange="1900:2030"
                            formControlName="beginDate" (onSelect)="generatePersonTypes(fpExtendedFamily.beginDate)">
                        </p-calendar>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">

                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>End Date</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-calendar name="endDate" [(ngModel)]="familyMember.endDate" [showTime]="true"
                            [showIcon]="true" formControlName="endDate" [monthNavigator]="true" [yearNavigator]="true"
                            yearRange="1900:2030">
                        </p-calendar>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Relationship</span><span class="mandatory">*</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-autoComplete name="personTypeID" [(ngModel)]="familyMember.personTypeID" [dropdown]="true"
                            [suggestions]="metaData" [forceSelection]="true" formControlName="personTypeID"
                            (completeMethod)="getMetaData($event,'relationship')" field="personType">
                        </p-autoComplete>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3"><span>Custodial Parent</span></div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-checkbox binary="true" name="CustodialParent" formControlName="custodialParent"
                            [(ngModel)]="familyMember.custodialParent"></p-checkbox>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3"><span>PRT</span></div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-checkbox binary="true" name="prt" formControlName="prt" [(ngModel)]="familyMember.prt">
                        </p-checkbox>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3"><span>Contact List</span></div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-checkbox binary="true" name="ContactList" formControlName="contactList"
                            [(ngModel)]="familyMember.contactList"></p-checkbox>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3"><span>Emergency Contact</span></div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-checkbox binary="true" name="EmergencyContact" formControlName="emergencyContact"
                            [(ngModel)]="familyMember.emergencyContact"></p-checkbox>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3"><span>Treatment plan</span></div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-checkbox binary="true" name="Treatmentplan" formControlName="treatmentplan"
                            [(ngModel)]="familyMember.treatmentplan"></p-checkbox>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3"><span>Treatment Decisions</span></div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-checkbox binary="true" name="TreatmentDecisions" formControlName="treatmentDecisions"
                            [(ngModel)]="familyMember.treatmentDecisions"></p-checkbox>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">

                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Family Member Type</span><span class="mandatory">*</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-autoComplete name="familyMemberTypeID" [(ngModel)]="familyMember.familyMemberTypeID"
                            [suggestions]="metaData" [dropdown]="true" [forceSelection]="true"
                            formControlName="familyMemberTypeID" (completeMethod)="getMetaData($event,'memberType')"
                            field="familyMemberType">
                        </p-autoComplete>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Restriction Type</span><span class="mandatory">*</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-autoComplete name="restrictionTypeID" [(ngModel)]="familyMember.restrictionTypeID"
                            [dropdown]="true" [suggestions]="metaData" [forceSelection]="true"
                            formControlName="restrictionTypeID" (completeMethod)="getMetaData($event,'restrictionType')"
                            field="restrictionType">
                        </p-autoComplete>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">

                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Restriction Court Ordered</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-checkbox binary="true" name="IsCourtOrderedRestriction"
                            formControlName="IsCourtOrderedRestriction"
                            [(ngModel)]="familyMember.IsCourtOrderedRestriction"></p-checkbox>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Frequency</span><span class="mandatory">*</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-autoComplete [dropdown]="true" name="frequencyTypeID"
                            [(ngModel)]="familyMember.frequencyTypeID" [suggestions]="metaData" [forceSelection]="true"
                            formControlName="frequencyTypeID" (completeMethod)="getMetaData($event,'frequency')"
                            field="frequencyType">
                        </p-autoComplete>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">

                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Frequency Court Ordered</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <p-checkbox binary="true" [(ngModel)]="familyMember.isCourtOrderedFrequency"
                            formControlName="isCourtOrderedFrequency" name="isCourtOrderedFrequency"></p-checkbox>
                    </div>
                </div>
            </div>
            <div *ngIf="isShowRFCFields">
                <div class="margin-top-20 row">
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="col-lg-3 col-md-3 col-sm-3"><span>Deceased Date</span></div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                            <input type="text" readonly>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="col-lg-3 col-md-3 col-sm-3"><span>Removal Parent</span></div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                            <p-checkbox binary="true" formControlName="isRemovalParent"
                                [(ngModel)]="familyMember.isRemovalParent" name="removalParent">
                            </p-checkbox>
                        </div>
                    </div>
                </div>
                <div class="margin-top-20 row">
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="col-lg-3 col-md-3 col-sm-3"><span>Annual Household Income</span></div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                            <input type="text" [(ngModel)]="familyMember.annualHouseholdIncome" pInputText
                                formControlName="annualHouseholdIncome" name="annualHouseholdIncome" size="27" />
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="col-lg-3 col-md-3 col-sm-3"><span>Number Living In Household</span></div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                            <input type="text" [(ngModel)]="familyMember.numberLivingInHousehold" pInputText
                                formControlName="numberLivingInHousehold" name="numberLivingInHousehold" />
                        </div>
                    </div>
                </div>
                <div class="margin-top-20 row">
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="col-lg-3 col-md-3 col-sm-3"><span>Single Parent Household</span></div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                            <p-checkbox binary="true" [(ngModel)]="familyMember.isSingleParentHousehold"
                                formControlName="" name="singleParentHousehold"></p-checkbox>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6">
                        <div class="col-lg-3 col-md-3 col-sm-3"><span>Family Refused</span></div>
                        <div class="col-lg-3 col-md-3 col-sm-3">
                            <p-checkbox binary="true" formControlName="familyRefused"
                                [(ngModel)]="familyMember.familyRefused" name="familyRefused">
                            </p-checkbox>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Notes</span>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="col-lg-3 col-md-3 col-sm-3">
                        <span>Locked</span>
                    </div>
                </div>
            </div>
            <div class="row margin-top-20">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <textarea name="notes" [(ngModel)]="familyMember.notes" pInputTextarea formControlName="notes"
                            style=" width: 100%; height: 100%;" cols="60" rows="5"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <app-form-footer (save)="onFormActions()" (edit)="onEditForm()" [editControll]="isEdit"></app-form-footer>
</div>