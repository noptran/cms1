<app-form-header [breadcrumbs]="breadcrumbs"></app-form-header>
<div id="loading-overlay">
  <p class="loader-text">
    <img src="/assets/loader/loader_new.gif" alt="loder" width="150px" />
  </p>
</div>
<div class="container-background">
  <div class="container-foreground">
    <div class="color-key-panel">
      <span>
        <button class="sf-positive-btn" (click)="expandCollapseCall()">
          <span>Click To {{ accordionTabLabel }}</span>
        </button>
      </span>
      <span class="color-title">Color Key:</span>
      <span class="system-info">Pulled From System</span>
      <span class="pulled-info">Pulled From Previous PR</span>
      <span class="required">Required/Warnings</span>
    </div>
    <div *ngIf="!NewForm && isEditForm">
      <form class="form-container sf-form" [formGroup]="placementReferralForm">
        <p-accordion [multiple]="true">
          <p-accordionTab [selected]="isTabCollapsed" header="Client Information">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Client Name</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{
                    autoFetch.clientName ? autoFetch.clientName : ""
                  }}</span>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">KAECSES</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.kaecses ? autoFetch.kaecses : "" }}</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">FACTS</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.facts ? autoFetch.facts : "" }}</span>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">SSN</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.ssn ? autoFetch.ssn : "" }}</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Gender</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.gender ? autoFetch.gender : "" }}</span>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">DOB</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.dOB ? autoFetch.dOB : "" }}</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Race</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.race ? autoFetch.race : "" }}</span>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Case Manager Information"
          >
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Case Manager</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.caseManager ? autoFetch.caseManager : "" }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">SFCS Office</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.sFAOffice ? autoFetch.sFAOffice : "" }}
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Work Phone</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.workPhone ? autoFetch.workPhone : "" }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Address</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.address ? autoFetch.address : "" }}
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">City</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.city ? autoFetch.city : "" }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">State</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.state ? autoFetch.state : "" }}
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">ZIP</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.zipcode ? autoFetch.zipcode : "" }}
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Specific Placement Requirements"
          >
            <p class="required">
              (If requesting move to more restrictive level of care, Care Center
              must complete scoring tool)
            </p>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Have Kinship Options been explored</span
                  ><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                    name="kinship"
                    value="true"
                    label="Yes"
                    [(ngModel)]="placementRef.kinship"
                    formControlName="kinship"
                  >
                  </p-radioButton>
                  <p-radioButton
                    name="kinship"
                    value="false"
                    label="No"
                    [(ngModel)]="placementRef.kinship"
                    formControlName="kinship"
                  >
                  </p-radioButton>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Desired Care Level <span class="mandatory">*</span></span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="careLevel"
                    (completeMethod)="getMetaData($event, 'desiredCareLevel')"
                    [suggestions]="metaData"
                    name="desiredCareLevel"
                    [(ngModel)]="placementRef.careLevelID"
                    formControlName="careLevelID"
                    (onSelect)="
                      placementRef.careLevelID.careLevelID === 7
                        ? (isCareLevelOtherDesc = false)
                        : (isCareLevelOtherDesc = true)
                    "
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Other Description</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    pInputText
                    name="careLevelOther"
                    [(ngModel)]="placementRef.careLevelOther"
                    [disabled]="isCareLevelOtherDesc"
                    formControlName="careLevelOther"
                  />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span
                    >Date Placement is Needed
                    <span class="mandatory">*</span></span
                  >
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-calendar
                    [showTime]="true"
                    [showIcon]="true"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    [(ngModel)]="placementRef.placementNeeded"
                    name="placementNeeded"
                    yearRange="1900:2030"
                    formControlName="placementNeeded"
                  ></p-calendar>
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Length of Stay</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    pInputText
                    name="lengthOfStay"
                    [(ngModel)]="placementRef.lengthOfStay"
                    formControlName="lengthOfStay"
                  />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Geographical Preferences</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    pInputText
                    name="geographicalPreference"
                    [(ngModel)]="placementRef.geographicalPreference"
                    formControlName="geographicalPreference"
                  />
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>FCH/Facility Preference</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    pInputText
                    name="providerPreference"
                    [(ngModel)]="placementRef.providerPreference"
                    formControlName="providerPreference"
                  />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Case Plan Goal</span><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="casePlanGoal"
                    (completeMethod)="getMetaData($event, 'casePlanGoal')"
                    [suggestions]="metaData"
                    name="casePlanGoalID"
                    [(ngModel)]="placementRef.casePlanGoalID"
                    formControlName="casePlanGoalID"
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Reason for Custody (from 3030)</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{
                    autoFetch.reasonForCustody ? autoFetch.reasonForCustody : ""
                  }}
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Directors Authorization"
          >
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Director</span><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="staffName"
                    (completeMethod)="getMetaData($event, 'director')"
                    [suggestions]="metaData"
                    name="director_StaffID"
                    [(ngModel)]="placementRef.director_StaffID"
                    formControlName="director_StaffID"
                  >
                  </p-autoComplete>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Level of Care Authorized</span
                  ><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="levelOfCareAuthorized"
                    (completeMethod)="
                      getMetaData($event, 'director_LevelOfCareAuthorizedID')
                    "
                    [suggestions]="metaData"
                    name="director_LevelOfCareAuthorizedID"
                    [(ngModel)]="placementRef.director_LevelOfCareAuthorizedID"
                    (onSelect)="
                      authorizedRate =
                        placementRef.director_LevelOfCareAuthorizedID.rate
                    "
                    formControlName="director_LevelOfCareAuthorizedID"
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Rate Authorized</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ authorizedRate }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Date Authorized</span><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-calendar
                    [showTime]="true"
                    [showIcon]="true"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    [(ngModel)]="placementRef.director_DateAuthorized"
                    name="director_DateAuthorized"
                    yearRange="1900:2030"
                    formControlName="director_DateAuthorized"
                  ></p-calendar>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Authorization Length</span
                  ><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="authorizationLength"
                    (completeMethod)="
                      getMetaData($event, 'director_AuthorizationLengthID')
                    "
                    formControlName="director_AuthorizationLengthID"
                    [suggestions]="metaData"
                    name="director_AuthorizationLengthID"
                    [(ngModel)]="placementRef.director_AuthorizationLengthID"
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Specific Placement Requirements"
          >
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span
                    >Reason for Move (Descripe in detail behaviors/events leading
                    to need for move).</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="reasonForMove"
                    [(ngModel)]="placementRef.reasonForMove"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="reasonForMove"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info">1) New Placement Should Have.</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="newPlacementShouldHave"
                    [(ngModel)]="placementRef.newPlacementShouldHave"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="newPlacementShouldHave"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >2) New Placement Should Not Have.</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="newPlacementShouldNotHave"
                    [(ngModel)]="placementRef.newPlacementShouldNotHave"
                    formControlName="newPlacementShouldNotHave"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >3) Child Would Like New Placement to Have.</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="childWantsNewPlacementToHave"
                    [(ngModel)]="placementRef.childWantsNewPlacementToHave"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="childWantsNewPlacementToHave"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info">4) Childs Hobbies and Interests</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="hobbiesInterests"
                    [(ngModel)]="placementRef.hobbiesInterests"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="hobbiesInterests"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >5) Interventions( What works, What to avoid )</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="interventions"
                    [(ngModel)]="placementRef.interventions"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="interventions"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >6) Strengths Based Description of Child</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="strengthsBasedDescriptionOfChild"
                    [(ngModel)]="placementRef.strengthsBasedDescriptionOfChild"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="strengthsBasedDescriptionOfChild"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Client Strengths (minimum of 3 current required) *"
            class="system-info"
            *ngIf="!isDraftForm"
          >
            <div class="subnode-header">
              <button (click)="onExportPromptOpen('Client Strength')">
                Exports
              </button>
            </div>
            <div class="subnode-table">
              <table>
                <tr>
                  <th>Strength</th>
                  <th>Information Source</th>
                  <th>Current</th>
                  <th>Explanation</th>
                  <th>Actions</th>
                </tr>
                <tr *ngFor="let clientStrength of clientStrengthsList">
                  <td>{{ clientStrength.Strength }}</td>
                  <td>{{ clientStrength.InformationSource }}</td>
                  <td>
                    <span *ngIf="clientStrength.Current">&#10004;</span>
                    <span *ngIf="!clientStrength.Current">&#10006;</span>
                  </td>
                  <td>{{ clientStrength.Explanation }}</td>
                  <td>
                    <button class="edit-button" [disabled] ="isEditControl"><span
                      class="fa fa-edit"
                      pTooltip="Click here to edit"
                      (click)="
                        onSubnodeRowclick('client_strength', clientStrength)
                      "
                    ></span></button>
                    <button class="edit-button" [disabled] ="isEditControl"><span
                      class="fa fa-trash"
                      pTooltip="Click here to delete"
                      (click)="
                        onSubnodeRowdelete('client_strength', clientStrength)
                      "
                    ></span></button>
                  </td>
                </tr>
              </table>
            </div>
            <div class="subnode-footer">
              <button (click)="isClientStrengthForm = true" [disabled] ="isEditControl">Add</button>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>Legacy Childs Strengths</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="strengthsBasedDescriptionOfChild"
                    [disabled]="true"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="strengthsBasedDescriptionOfChild"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Client Strengths (minimum of 3 current required) *"
            class="system-info"
            *ngIf="isDraftForm"
          >
            <div class="subnode-header">
              <button (click)="onExportPromptOpen('Client Strength')">
                Exports
              </button>
            </div>
            <div class="subnode-table">
              <table>
                <tr>
                  <th>Strength</th>
                  <th>Information Source</th>
                  <th>Current</th>
                  <th>Explanation</th>
                  <th>Actions</th>
                </tr>
                <tr *ngFor="let clientStrength of clientStrengthList">
                  <td>{{ clientStrength.Strength }}</td>
                  <td>{{ clientStrength.StrengthInformationSource }}</td>
                  <td>
                    <span *ngIf="clientStrength.Current">&#10004;</span>
                    <span *ngIf="!clientStrength.Current">&#10006;</span>
                  </td>
                  <td>{{ clientStrength.Explanation }}</td>
                  <td>
                    <span
                      class="fa fa-edit"
                      pTooltip="Click here to edit"
                      (click)="
                        onSubnodeRowclick('client_strength', clientStrength)
                      "
                    ></span>
                    <button class="edit-button"><span
                      class="fa fa-trash"
                      pTooltip="Click here to delete"
                      (click)="
                        onSubnodeRowdelete('client_strength', clientStrength)
                      "
                    ></span></button>
                  </td>
                </tr>
              </table>
            </div>
            <div class="subnode-footer">
              <button (click)="isClientStrengthForm = true">Add</button>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>Legacy Childs Strengths</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="strengthsBasedDescriptionOfChild"
                    [disabled]="true"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="strengthsBasedDescriptionOfChild"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Visitation (Who child has visitation or visitation restrictions with, including 'No Visitation Allowed'"
            class="system-info"
            *ngIf="!isDraftForm"
          >
            <p class="required">Visitations with End Dates do not print</p>
            <div class="subnode-header">
              <button (click)="onExportPromptOpen('Family Member')">
                Exports
              </button>
            </div>
            <div style="margin-bottom: 20px">
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Family Member</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Relationship</th>
                    <th>Restriction Type</th>
                    <th>Frequency</th>
                    <th>Court Ordered</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let sib of visitationsList">
                    <td>{{ sib.FamilyMember }}</td>
                    <td>{{ showTime(sib.BeginDate) }}</td>
                    <td>{{ showTime(sib.EndDate) }}</td>
                    <td>{{ sib.Relationship }}</td>
                    <td>{{ sib.RestrictionType }}</td>
                    <td>{{ sib.Frequency }}</td>
                    <td>
                      <span *ngIf="sib.isCourtOrderedRestriction">&#10004;</span>
                      <span *ngIf="!sib.isCourtOrderedRestriction">&#10006;</span>
                    </td>
                    <td>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('extended_familymember', sib)"
                      ></span></button>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                        onSubnodeRowdelete('extended_familymember', sib)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isFamilyMemberForm = true" [disabled] ="isEditControl">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Visitation (Who child has visitation or visitation restrictions with, including 'No Visitation Allowed'"
            class="system-info"
            *ngIf="isDraftForm"
          >
            <p class="required">Visitations with End Dates do not print</p>
            <div class="subnode-header">
              <button (click)="onExportPromptOpen('Family Member')">
                Exports
              </button>
            </div>
            <div style="margin-bottom: 20px">
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Family Member</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Relationship</th>
                    <th>Restriction Type</th>
                    <th>Frequency</th>
                    <th>Court Ordered</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let sib of clientsSiblingsOohPlacementsList">
                    <td>{{ sib.familyMember }}</td>
                    <td>{{ showTime(sib.beginDate) }}</td>
                    <td>{{ showTime(sib.endDate) }}</td>
                    <td>{{ sib.personType }}</td>
                    <td>{{ sib.RestrictionType }}</td>
                    <td>{{ sib.frequencyType }}</td>
                    <td>
                      <span *ngIf="sib.isCourtOrderedRestriction">&#10004;</span>
                      <span *ngIf="!sib.isCourtOrderedRestriction">&#10006;</span>
                    </td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('extended_familymember', sib)"
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('extended_familymember', sib)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isFamilyMemberForm = true">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Sibiling In OOH Placement *"
            class="system-info"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('sibInOOH')">Exports</button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Name</th>
                    <th>DOB</th>
                    <th>Gender</th>
                    <th>Race</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Can Be Together</th>
                  </tr>
                  <tr *ngFor="let ooh of sibInOOHLists">
                    <td>{{ ooh.Name }}</td>
                    <td>{{ ooh.DOB | date: "dd/MM/yyyy" }}</td>
                    <td>{{ ooh.Gender }}</td>
                    <td>{{ ooh.Race }}</td>
                    <td>{{ ooh.BeginDate | date: "dd/MM/yyyy" }}</td>
                    <td>{{ ooh.EndDate | date: "dd/MM/yyyy" }}</td>
                    <td>{{ ooh.SibReason }}</td>
                  </tr>
                </table>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Placement History"
            class="system-info"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('placementHistory')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Provider Name</th>
                    <th>Level of Care</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Reson For Move</th>
                    <th>Behaviors</th>
                  </tr>
                  <tr *ngFor="let placementHistory of placementHistoriesList">
                    <td>{{placementHistory.ProviderName}}</td>
                    <td>{{placementHistory.LevelofCare}}</td>
                    <td>{{placementHistory.BeginDate}}</td>
                    <td>{{placementHistory.EndDate}}</td>
                    <td>{{placementHistory.ReasonforMove}}</td>
                    <td>{{placementHistory.Behaviors}}</td>
                  </tr>
                </table>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Clients Profile"
            class="system-info"
            *ngIf="!isDraftForm"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('Client Profile')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Condition</th>
                    <th>Begin Date</th>
                    <th>Notify Date</th>
                    <th>Last Occurance</th>
                    <th>End Date</th>
                    <th>Frequency Type</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let profile of clientsProfileList">
                    <td>{{ profile.Condition }}</td>
                    <td>{{ showTime(profile.BeginDate) }}</td>
                    <td>{{ showTime(profile.NotifyDate) }}</td>
                    <td>{{ showTime(profile.LastOccurrence) }}</td>
                    <td>{{ showTime(profile.EndDate) }}</td>
                    <td>{{ profile.FrequencyType }}</td>
                    <td>{{ profile.Notes }}</td>
                    <td>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('client_profile', profile)"
                      ></span></button>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                        onSubnodeRowdelete('client_profile', profile)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isClientProfileForm = true" [disabled] ="isEditControl">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Clients Profile"
            class="system-info"
            *ngIf="isDraftForm"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('Client Profile')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Condition</th>
                    <th>Begin Date</th>
                    <th>Notify Date</th>
                    <th>Last Occurance</th>
                    <th>End Date</th>
                    <th>Frequency Type</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let profile of clientsProfileLists">
                    <td>{{ profile.Condition }}</td>
                    <td>{{ showTime(profile.BeginDate) }}</td>
                    <td>{{ showTime(profile.NotificationDate) }}</td>
                    <td>{{ showTime(profile.LastOccurrence) }}</td>
                    <td>{{ showTime(profile.EndDate) }}</td>
                    <td>{{ profile.FrequencyType }}</td>
                    <td>{{ profile.Notes }}</td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('client_profile', profile)"
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('client_profile', profile)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isClientProfileForm = true">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Preventative Measures *"
            class="system-info"
            *ngIf="!isDraftForm"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('preventative-measurements')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Preventative Measures</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let pm of preventativeMeasuresList">
                    <td>{{ pm.PreventativeMeasure }}</td>
                    <td>{{ showTime(pm.BeginDate) }}</td>
                    <td>{{ showTime(pm.EndDate) }}</td>
                    <td>{{ pm.Notes }}</td>
                    <td>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="
                          onSubnodeRowclick('preventative_measurements', pm)
                        "
                      ></span></button>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                        onSubnodeRowdelete('preventative_measurements', pm)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isPreventativeMeasurementForm = true" [disabled] ="isEditControl">
                  Add
                </button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Preventative Measures *"
            class="system-info"
            *ngIf="isDraftForm"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('preventative-measurements')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Preventative Measures</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let pm of preventativeMeasuresLists">
                    <td>{{ pm.PreventativeMeasure }}</td>
                    <td>{{ showTime(pm.BeginDate) }}</td>
                    <td>{{ showTime(pm.EndDate) }}</td>
                    <td>{{ pm.Notes }}</td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="
                          onSubnodeRowclick('preventative_measurements', pm)
                        "
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('preventative_measurements', pm)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isPreventativeMeasurementForm = true">
                  Add
                </button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Assesments"
            class="system-info"
            *ngIf="!isDraftForm"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('assessment')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Assessment Type</th>
                    <th>Due Date</th>
                    <th>Completed Date</th>
                    <th>Assessment Value</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let assessment of assessmentsList">
                    <td>{{ assessment.AssessmentType }}</td>
                    <td>{{ showTime(assessment.DueDate) }}</td>
                    <td>{{ showTime(assessment.CompletedDate) }}</td>
                    <td>{{ assessment.AssessmentValue }}</td>
                    <td>{{ assessment.Notes }}</td>
                    <td>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('assesments', assessment)"
                      ></span></button>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                        onSubnodeRowdelete('assesments', assessment)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isAssessmentForm = true" [disabled] ="isEditControl">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Assesments"
            class="system-info"
            *ngIf="isDraftForm"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('assessment')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Assessment Type</th>
                    <th>Due Date</th>
                    <th>Completed Date</th>
                    <th>Assessment Value</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let assessment of assessmentsLists">
                    <td>{{ assessment.assessmentType }}</td>
                    <td>{{ showTime(assessment.dueDate) }}</td>
                    <td>{{ showTime(assessment.completedDate) }}</td>
                    <td>{{ assessment.assessmentValue }}</td>
                    <td>{{ assessment.notes }}</td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('assesments', assessment)"
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('assesments', assessment)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isAssessmentForm = true">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="Medical">
            <div class="medical-height">
              <div>
                <span>Height</span><span class="mandatory">*</span>
                <p-spinner
                  size="30"
                  name="height"
                  [(ngModel)]="placementRef.height"
                  [step]="0.1"
                  [min]="0"
                  formControlName="height"
                >
                </p-spinner>
                Ft/inches
              </div>
              <div>
                <span>Weight</span><span class="mandatory">*</span>
                <p-spinner
                  size="30"
                  name="weight"
                  [(ngModel)]="placementRef.weight"
                  [step]="1"
                  [min]="0"
                  formControlName="weight"
                ></p-spinner>
                lbs
              </div>
            </div>
            <div class="medical">
              <div class="container">
                <span>Current Medical Doctor</span>
                <input
                  type="text"
                  pInputText
                  name="currentDoctor"
                  [(ngModel)]="placementRef.currentDoctor"
                  formControlName="currentDoctor"
                />
                <span>Current Dentist</span>
                <input
                  type="text"
                  pInputText
                  name="currentDentist"
                  [(ngModel)]="placementRef.currentDentist"
                  formControlName="currentDentist"
                />
                <span>Current Eye Doctor</span>
                <input
                  type="text"
                  pInputText
                  name="currentEyeDoctor"
                  [(ngModel)]="placementRef.currentEyeDoctor"
                  formControlName="currentEyeDoctor"
                />
              </div>
              <div class="container">
                <span>State</span>
                <p-autoComplete
                  placeholder="Type here to search"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'state')"
                  [suggestions]="metaData"
                  field="abbreviation"
                  name="doctor_StateID"
                  [(ngModel)]="placementRef.doctor_StateID"
                  (onSelect)="onSelectState($event)"
                  formControlName="doctor_StateID"
                >
                </p-autoComplete>
                <span>State</span>
                <p-autoComplete
                  placeholder="Type here to search"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'state')"
                  [suggestions]="metaData"
                  field="abbreviation"
                  name="dentist_StateID"
                  [(ngModel)]="placementRef.dentist_StateID"
                  (onSelect)="onSelectState($event)"
                  formControlName="dentist_StateID"
                >
                </p-autoComplete>
                <span>State</span>
                <p-autoComplete
                  placeholder="Type here to search"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'state')"
                  [suggestions]="metaData"
                  field="abbreviation"
                  name="eyeDoctor_StateID"
                  [(ngModel)]="placementRef.eyeDoctor_StateID"
                  (onSelect)="onSelectState($event)"
                  formControlName="eyeDoctor_StateID"
                >
                </p-autoComplete>
              </div>
              <div class="container">
                <span>City</span>
                <p-autoComplete
                  placeholder="Select state first"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'city')"
                  [suggestions]="metaData"
                  field="city"
                  name="doctor_CityID"
                  [(ngModel)]="placementRef.doctor_CityID"
                  formControlName="doctor_CityID"
                >
                </p-autoComplete>
                <span>City</span>
                <p-autoComplete
                  placeholder="Select state first"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'city')"
                  [suggestions]="metaData"
                  field="city"
                  name="dentist_CityID"
                  [(ngModel)]="placementRef.dentist_CityID"
                  formControlName="dentist_CityID"
                >
                </p-autoComplete>
                <span>City</span>
                <p-autoComplete
                  placeholder="Select state first"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'city')"
                  [suggestions]="metaData"
                  field="city"
                  name="eyeDoctor_CityID"
                  [(ngModel)]="placementRef.eyeDoctor_CityID"
                  formControlName="eyeDoctor_CityID"
                >
                </p-autoComplete>
              </div>
            </div>
            <div *ngIf="!isDraftForm">
            <div class="margin-top-20 row">
              <div style="margin-bottom: 20px">
                <p class="system-info">Any scheduled Appointments</p>
                <div class="subnode-table">
                  <div class="subnode-header">
                    <button (click)="onExportPromptOpen('appointments')">
                      Exports
                    </button>
                  </div>
                  <table>
                    <tr>
                      <th>Appointment Type</th>
                      <th>When</th>
                      <th>Where</th>
                      <th>With Whom</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let appointmentMedical of appointmentsMedicalLists">
                      <td>{{ appointmentMedical.AppointmentType }}</td>
                      <td>{{ showTime(appointmentMedical.When) }}</td>
                      <td>{{ appointmentMedical.Where }}</td>
                      <td>{{ appointmentMedical.WithWhom }}</td>
                      <td>
                        <button class="edit-button" [disabled] ="isEditControl"><span
                          class="fa fa-edit"
                          pTooltip="Click here to edit"
                          (click)="onSubnodeRowclick('medical', appointmentMedical)"
                        ></span></button>
                        <button class="edit-button" [disabled] ="isEditControl"><span
                          class="fa fa-trash"
                          pTooltip="Click here to delete"
                          (click)="
                          onSubnodeRowdelete('medical', appointmentMedical)
                          "
                        ></span></button>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="subnode-footer">
                  <button (click)="isAppointmentsMedicalForm = true" [disabled] ="isEditControl">Add</button>
                </div>
              </div>
            </div>
          </div>
            <div *ngIf="isDraftForm">
            <div class="margin-top-20 row">
              <div style="margin-bottom: 20px">
                <p class="system-info">Any scheduled Appointments</p>
                <div class="subnode-table">
                  <div class="subnode-header">
                    <button (click)="onExportPromptOpen('appointments')">
                      Exports
                    </button>
                  </div>
                  <table>
                    <tr>
                      <th>Appointment Type</th>
                      <th>When</th>
                      <th>Where</th>
                      <th>With Whom</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let appointmentMedical of appointmentsListsMedical">
                      <td>{{ appointmentMedical.appointmentType }}</td>
                      <td>{{ showTime(appointmentMedical.when) }}</td>
                      <td>{{ appointmentMedical.where }}</td>
                      <td>{{ appointmentMedical.withWhom }}</td>
                      <td>
                        <span
                          class="fa fa-edit"
                          pTooltip="Click here to edit"
                          (click)="onSubnodeRowclick('medical', appointmentMedical)"
                        ></span>
                        <button class="edit-button"><span
                          class="fa fa-trash"
                          pTooltip="Click here to delete"
                          (click)="
                            onSubnodeRowdelete('medical', appointmentMedical)
                          "
                        ></span></button>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="subnode-footer">
                  <button (click)="isAppointmentsMedicalForm = true">Add</button>
                </div>
              </div>
            </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>Legacy Medical Appointments</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name=""
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    [disabled]="true"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >Medical/Health Concerns/Medical Diagnosis If any</span
                  >
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    [disabled] ="isEditControl"
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="placementRef.medicalDiagnosis"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="system-info"
                    >List Allergies: Including foods, Medication and pets ( From
                    Medication & Allergies, editable )</span
                  >
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <!-- [(ngModel)]="autoFetch.clientAllergies" -->
                  <!-- {{(autoFetch.clientAllergies)?autoFetch.clientAllergies:''}} -->
                  <textarea
                    [disabled] ="isEditControl"
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="clientAllergies"
                    name="medicalDiagnosis"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Medications (All known medications prescribed for child)"
            class="system-info"
            *ngIf="!isDraftForm"
          >
            <span class="required">This meds are not all-inclusive</span>
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('medications')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Medication</th>
                    <th>Dosage</th>
                    <th>Frequency</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Prescribed For</th>
                    <th>Prescribed By</th>
                    <td>Actions</td>
                  </tr>
                  <tr *ngFor="let medication of medicationsList">
                    <td>{{ medication.Medication }}</td>
                    <td>{{ medication.Dosage }}</td>
                    <td>{{ medication.Frequency }}</td>
                    <td>{{ showTime(medication.BeginDate) }}</td>
                    <td>{{ showTime(medication.EndDate) }}</td>
                    <td>{{ medication.PrescribedFor }}</td>
                    <td>{{ medication.PrescribedBy }}</td>
                    <td>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('medications', medication)"
                      ></span></button>
                      <button class="edit-button" [disabled] ="isEditControl"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                        onSubnodeRowdelete('medications', medication)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isMedicationForm = true" [disabled] ="isEditControl">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Medications (All known medications prescribed for child)"
            class="system-info"
            *ngIf="isDraftForm"
          >
            <span class="required">This meds are not all-inclusive</span>
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('medications')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Medication</th>
                    <th>Dosage</th>
                    <th>Frequency</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Prescribed For</th>
                    <th>Prescribed By</th>
                    <td>Actions</td>
                  </tr>
                  <tr *ngFor="let medication of medicationsLists">
                    <td>{{ medication.Medication }}</td>
                    <td>{{ medication.Dosage }}</td>
                    <td>{{ medication.FrequencyType }}</td>
                    <td>{{ showTime(medication.BeginDate) }}</td>
                    <td>{{ showTime(medication.EndDate) }}</td>
                    <td>{{ medication.PrescribedFor }}</td>
                    <td>{{ medication.PrescribedBy }}</td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('medications', medication)"
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('medications', medication)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isMedicationForm = true">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="Mental Health">
            <div class="mental-info">
              <div class="margin-top-20 row">
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="col-lg-3 col-lg-3 col-md-3">
                    <span>Current Psychiatrist</span>
                  </div>
                  <div class="col-lg-3 col-lg-3 col-md-3">
                    <input
                      type="text"
                      name="currentPsychiatrist"
                      pInputText
                      [(ngModel)]="placementRef.currentPsychiatrist"
                      formControlName="currentPsychiatrist"
                    />
                  </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="col-lg-3 col-lg-3 col-md-3"><span>State</span></div>
                  <div class="col-lg-3 col-lg-3 col-md-3">
                    <p-autoComplete
                      placeholder="Type here to search"
                      emptyMessage="No records found!"
                      [dropdown]="true"
                      [forceSelection]="true"
                      (completeMethod)="getMetaData($event, 'state')"
                      [suggestions]="metaData"
                      field="abbreviation"
                      name="psychiatrist_StateID"
                      [(ngModel)]="placementRef.psychiatrist_StateID"
                      formControlName="psychiatrist_StateID"
                      (onSelect)="onSelectState($event)"
                    >
                    </p-autoComplete>
                  </div>
                </div>
              </div>
              <div class="margin-top-20 row">
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="col-lg-3 col-lg-3 col-md-3"><span>City</span></div>
                  <div class="col-lg-3 col-lg-3 col-md-3">
                    <p-autoComplete
                      placeholder="Type here to search"
                      emptyMessage="No records found!"
                      [dropdown]="true"
                      [forceSelection]="true"
                      (completeMethod)="getMetaData($event, 'city')"
                      [suggestions]="metaData"
                      field="city"
                      name="psychiatrist_CityID"
                      [(ngModel)]="placementRef.psychiatrist_CityID"
                      formControlName="psychiatrist_CityID"
                    >
                    </p-autoComplete>
                  </div>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info">Mental Health Diagnosis</span>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    [disabled] ="isEditControl"
                    name="mentalDiagnosis"
                    [(ngModel)]="placementRef.mentalDiagnosis"
                    [ngModelOptions]="{ standalone: true }"
                    pInputTextArea
                    style="height: 100%; width: 100%"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Therapist Name</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    name="therapist"
                    pInputText
                    [(ngModel)]="placementRef.therapist"
                    formControlName="therapist"
                  />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3"><span>Agency</span></div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    name="therapist"
                    pInputText
                    [(ngModel)]="placementRef.therapistAgency"
                    formControlName="therapistAgency"
                  />
                </div>
              </div>
            </div>
            <div *ngIf="!isDraftForm">
              <div style="margin-bottom: 20px">
                <p>Appointment times line</p>
                <div class="subnode-table">
                  <div class="subnode-header">
                    <button (click)="onExportPromptOpen('appointments')">
                      Exports
                    </button>
                  </div>
                  <table>
                    <tr>
                      <th>Appointment Type</th>
                      <th>When</th>
                      <th>Where</th>
                      <th>With Whom</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let appointmentmental of mentalAppointmentsList">
                      <td>{{ appointmentmental.AppointmentType }}</td>
                      <td>{{ showTime(appointmentmental.When) }}</td>
                      <td>{{ appointmentmental.Where }}</td>
                      <td>{{ appointmentmental.WithWhom }}</td>
                      <td>
                        <button class="edit-button" [disabled] ="isEditControl"><span
                          class="fa fa-edit"
                          pTooltip="Click here to edit"
                          (click)="onSubnodeRowclick('mental', appointmentmental)"
                        ></span></button>
                        <button class="edit-button" [disabled] ="isEditControl"><span
                          class="fa fa-trash"
                          pTooltip="Click here to delete"
                          (click)="
                          onSubnodeRowdelete('mental', appointmentmental)
                          "
                        ></span></button>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="subnode-footer">
                  <button (click)="isAppointmentsForm = true" [disabled] ="isEditControl">Add</button>
                </div>
              </div>
            </div>
            <div *ngIf="isDraftForm">
              <div style="margin-bottom: 20px">
                <p>Appointment times line</p>
                <div class="subnode-table">
                  <div class="subnode-header">
                    <button (click)="onExportPromptOpen('appointments')">
                      Exports
                    </button>
                  </div>
                  <table>
                    <tr>
                      <th>Appointment Type</th>
                      <th>When</th>
                      <th>Where</th>
                      <th>With Whom</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let appointmentmental of appointmentsListsMental">
                      <td>{{ appointmentmental.appointmentType }}</td>
                      <td>{{ showTime(appointmentmental.when) }}</td>
                      <td>{{ appointmentmental.where }}</td>
                      <td>{{ appointmentmental.withWhom }}</td>
                      <td>
                        <span
                          class="fa fa-edit"
                          pTooltip="Click here to edit"
                          (click)="onSubnodeRowclick('mental', appointmentmental)"
                        ></span>
                        <button class="edit-button"><span
                          class="fa fa-trash"
                          pTooltip="Click here to delete"
                          (click)="
                            onSubnodeRowdelete('mental', appointmentmental)
                          "
                        ></span></button>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="subnode-footer">
                  <button (click)="isAppointmentsForm = true">Add</button>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>Legacy Mental Appointments</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name=""
                    pInputTextArea
                    style="height: 100%; width: 100%"
                    [disabled]="true"
                  ></textarea>
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="radio-group">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-3 col-md-3 col-sm-3">            
                  <p-radioButton
                  name="sEDwithCBS"
                  value="true"
                  label="Yes"
                  [(ngModel)]="placementRef.sEDwithCBS"
                  formControlName="sEDwithCBS"
                ></p-radioButton>
                <p-radioButton
                  name="sEDwithCBS"
                  value="false"
                  label="No"
                  [(ngModel)]="placementRef.sEDwithCBS"
                  formControlName="sEDwithCBS"
                ></p-radioButton>
                </div>
                <div class="col-lg-5 col-md-5 col-sm-5">
                  <span class="system-info"
                  >SED with Community Base Services? (from BH Determination)<span
                    class="mandatory"
                    >*</span
                  ></span
                >
                </div>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="MR/DD Services">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="qualifyMRDD"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.qualifyMRDD"
                formControlName="qualifyMRDD"
              >
              </p-radioButton>
              <p-radioButton
                name="qualifyMRDD"
                value="false"
                label="No"
                [(ngModel)]="placementRef.qualifyMRDD"
                formControlName="qualifyMRDD"
              >
              </p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                >Could Child Qualify For MR/DD Services?
                <span class="mandatory">*</span></span
              >
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="diagnosedMRDD"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.diagnosedMRDD"
                formControlName="diagnosedMRDD"
              >
              </p-radioButton>
              <p-radioButton
                name="diagnosedMRDD"
                value="false"
                label="No"
                [(ngModel)]="placementRef.diagnosedMRDD"
                formControlName="diagnosedMRDD"
              >
              </p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span class="system-info"
                  >Has Child Been Diagnosised for MR/DD? (from childs profile)</span
                >
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                (onClick)="onWaiverSelect()"
                name="MR/DD"
                value="true"
                label="Yes"
                [(ngModel)]="mrddwaiver"
                [ngModelOptions]="{ standalone: true }"
                [disabled] ="isEditControl"
              ></p-radioButton>
              <p-radioButton
                (onClick)="onWaiverSelect()"
                name="MR/DD"
                value="false"
                label="No"
                [(ngModel)]="mrddwaiver"
                [ngModelOptions]="{ standalone: true }"
                [disabled] ="isEditControl"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                >If yes, Does child have an MR/DD Wiaver? (from Waiver
                Activity)</span
              >
                </div>
              </div>
            </div>
            <div class="radio-group">
              <p-autoComplete
                [disabled]="isTierLevelDisabled || isEditControl"
                placeholder="Type here to search"
                emptyMessage="No records found!"
                [dropdown]="true"
                [forceSelection]="true"
                (completeMethod)="getMetaData($event, 'tierLevelType')"
                [suggestions]="metaData"
                field="tierLevelType"
                name="tierLevelID"
                [(ngModel)]="placementRef.tierLevelID"
                [ngModelOptions]="{ standalone: true }"
              >
              </p-autoComplete>
  
              <span>If yes, what tier level? (from Waiver Activity)</span>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="receiveSSFunding"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.receiveSSFunding"
                formControlName="receiveSSFunding"
              ></p-radioButton>
              <p-radioButton
                name="receiveSSFunding"
                value="false"
                label="No"
                [(ngModel)]="placementRef.receiveSSFunding"
                formControlName="receiveSSFunding"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                >Does the child receive any social security funding?
                <span class="mandatory">*</span>
              </span>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="School Information">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Current School</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.currentSchool ? autoFetch.currentSchool : "" }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Grade</span> <span class="mandatory"></span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    (completeMethod)="getMetaData($event, 'gradeID')"
                    [suggestions]="metaData"
                    field="grade"
                    name="gradeID"
                    [(ngModel)]="placementRef.gradeID"
                    formControlName="gradeID"
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Special Education Type</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    (completeMethod)="
                      getMetaData($event, 'specialEducationTypeID')
                    "
                    [suggestions]="metaData"
                    field="specialEducationType"
                    name="specialEducationTypeID"
                    [(ngModel)]="placementRef.specialEducationTypeID"
                    formControlName="specialEducationTypeID"
                  >
                  </p-autoComplete>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Date of Last IEP</span>
                  <span>
                    <p-checkbox
                      class="margin-left-2rem"
                      (onChange)="onDateLastIEMSelect($event)"
                      binary="true"
                      [disabled] ="isEditControl"
                    >
                    </p-checkbox>
                  </span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-calendar
                    [disabled]="isDateIEPdisabled || isEditControl"
                    [showTime]="true"
                    [showIcon]="true"
                    [(ngModel)]="placementRef.dateOfLastIEP"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    name="dateOfLastIEP"
                    yearRange="1900:2030"
                    formControlName="dateOfLastIEP"
                  >
                  </p-calendar>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span
                    >Behavior Probelms at School (include frequency and
                    severity)</span
                  >
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    name="schoolBehaviorProblems"
                    [(ngModel)]="placementRef.schoolBehaviorProblems"
                    formControlName="schoolBehaviorProblems"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="needsGED"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.needsGED"
                formControlName="needsGED"
              ></p-radioButton>
              <p-radioButton
                name="needsGED"
                value="false"
                label="No"
                [(ngModel)]="placementRef.needsGED"
                formControlName="needsGED"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Needs GED? <span class="mandatory">*</span> </span>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="Court Involvement">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="no_Run_Order"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.no_Run_Order"
                formControlName="no_Run_Order"
              >
              </p-radioButton>
              <p-radioButton
                name="no_Run_Order"
                value="false"
                label="No"
                [(ngModel)]="placementRef.no_Run_Order"
                formControlName="no_Run_Order"
              >
              </p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                >Is there a current "No Run" order?
                <span class="mandatory">*</span>
              </span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                  name="anyPendingCharges"
                  value="true"
                  label="Yes"
                  [(ngModel)]="placementRef.anyPendingCharges"
                  formControlName="anyPendingCharges"
                  (click)="onRadioButtonChanges($event, 'pendingCharges')"
                ></p-radioButton>
                <p-radioButton
                  name="anyPendingCharges"
                  value="false"
                  label="No"
                  [(ngModel)]="placementRef.anyPendingCharges"
                  (click)="onRadioButtonChanges($event, 'pendingCharges')"
                  formControlName="anyPendingCharges"
                >
                </p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Are there any pending criminal charges?</span>
              <span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>If yes, please list pending charges?</span>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="isPendingCharges">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    name="pendingCharges"
                    [(ngModel)]="placementRef.pendingCharges"
                    formControlName="pendingCharges"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="needsCommunityService"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.needsCommunityService"
                formControlName="needsCommunityService"
                (click)="onRadioButtonChanges($event, 'communtiyServiceHours')"
              ></p-radioButton>
              <p-radioButton
                name="needsCommunityService"
                value="false"
                label="No"
                [(ngModel)]="placementRef.needsCommunityService"
                formControlName="needsCommunityService"
                (click)="onRadioButtonChanges($event, 'communtiyServiceHours')"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                  >Does youth need to complete community service hours?
                  <span class="mandatory">*</span>
                </span>
                </div>
              </div>
            </div>
            <div>
              <p-spinner
                name="communityServiceHours"
                formControlName="communityServiceHours"
                [(ngModel)]="placementRef.communityServiceHours"
                [step]="0.1"
                maxlength="8"
                [disabled]="isCommunityServiceHours"
              >
              </p-spinner>
              <span class="margin-left-1"
                >If yes, how many hours do they need to complete?</span
              >
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>List all court orders specific to placement</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    name="courtOrdersSpecificToPlacement"
                    [(ngModel)]="placementRef.courtOrdersSpecificToPlacement"
                    formControlName="courtOrdersSpecificToPlacement"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Safety Plan Information"
          >
          <div class="margin-top-20 row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <div class="col-lg-3 col-md-3 col-sm-3">
                <p-radioButton
                name="hasSafetyPlan"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.hasSafetyPlan"
                formControlName="hasSafetyPlan"
              >
              </p-radioButton>
              <p-radioButton
                name="hasSafetyPlan"
                value="false"
                label="No"
                [(ngModel)]="placementRef.hasSafetyPlan"
                formControlName="hasSafetyPlan"
              >
              </p-radioButton>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <span
                >Does this child have a previous maintenance or safety plan of
                file? <span class="mandatory">*</span>
              </span>
              </div>
            </div>
          </div>
          <div class="margin-top-20 row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <div class="col-lg-3 col-md-3 col-sm-3">
                <p-radioButton
                name="needsSafetyPlan"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.needsSafetyPlan"
                formControlName="needsSafetyPlan"
              >
              </p-radioButton>
              <p-radioButton
                name="needsSafetyPlan"
                value="false"
                label="No"
                [(ngModel)]="placementRef.needsSafetyPlan"
                formControlName="needsSafetyPlan"
              >
              </p-radioButton>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <span
                >Does this child need a maintenance or safety plan prior to new
                placement? <span class="mandatory">*</span>
              </span>
              </div>
            </div>
          </div>
          <div class="margin-top-20 row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <div class="col-lg-3 col-md-3 col-sm-3">
                <p-radioButton
                name="reviewedForAccuracy"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.reviewedForAccuracy"
                formControlName="reviewedForAccuracy"
              ></p-radioButton>
              <p-radioButton
                name="reviewedForAccuracy"
                value="false"
                label="No"
                [(ngModel)]="placementRef.reviewedForAccuracy"
                formControlName="reviewedForAccuracy"
              ></p-radioButton>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <span
                >Has this placement referral been reviewed for accuracy?
                <span class="mandatory">*</span>
              </span>
              </div>
            </div>
          </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="Other Information">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="isInitial"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.isInitial"
                formControlName="isInitial"
              >
              </p-radioButton>
              <p-radioButton
                name="isInitial"
                value="false"
                label="No"
                [(ngModel)]="placementRef.isInitial"
                formControlName="isInitial"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Is this the initial placement?</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                [disabled]="isWithdrawDisable || isEditControl"
                [(ngModel)]="isWithDrawal"
                [ngModelOptions]="{ standalone: true }"
                name="isThisInitial"
                value="Yes"
                label="Yes"
              ></p-radioButton>
              <p-radioButton
                [disabled]="isWithdrawDisable || isEditControl"
                [(ngModel)]="isWithDrawal"
                [ngModelOptions]="{ standalone: true }"
                name="isThisInitial"
                value="No"
                label="No"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Do you want to withdrawal this placement referral? </span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                  [disabled]="isDraftDisabled || isEditControl"
                  name="isDraft"
                  label="Yes"
                  [(ngModel)]="isDraft"
                  formControlName = "isDraft"
                ></p-radioButton>
                <p-radioButton
                  [disabled]="isDraftDisabled || isEditControl"
                  name="isDraft"
                  value="No"
                  label="No"
                  [(ngModel)]="isDraft"
                  formControlName = "isDraft"
                ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Is this a draft? </span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="isPrivate"
                value="true"
                label="Yes"
                formControlName="isPrivate"
                [(ngModel)]="placementRef.isPrivate"
              ></p-radioButton>
              <p-radioButton
                name="isPrivate"
                value="false"
                label="No"
                formControlName="isPrivate"
                [(ngModel)]="placementRef.isPrivate"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Is this private? </span>
                </div>
              </div>
            </div>
          </p-accordionTab>
        </p-accordion>
      </form>
    </div>
    <div *ngIf="NewForm && !isEditForm">
      <form class="form-container sf-form" [formGroup]="placementReferralForm">
        <p-accordion [multiple]="true">
          <p-accordionTab [selected]="isTabCollapsed" header="Client Information">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Client Name</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{
                    autoFetch.clientName ? autoFetch.clientName : ""
                  }}</span>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">KAECSES</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.kaecses ? autoFetch.kaecses : "" }}</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">FACTS</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.facts ? autoFetch.facts : "" }}</span>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">SSN</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.ssn ? autoFetch.ssn : "" }}</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Gender</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.gender ? autoFetch.gender : "" }}</span>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">DOB</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.dOB ? autoFetch.dOB : "" }}</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Race</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>{{ autoFetch.race ? autoFetch.race : "" }}</span>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Case Manager Information"
          >
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Case Manager</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.caseManager ? autoFetch.caseManager : "" }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">SFCS Office</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.sFAOffice ? autoFetch.sFAOffice : "" }}
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Work Phone</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.workPhone ? autoFetch.workPhone : "" }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Address</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.address ? autoFetch.address : "" }}
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">City</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.city ? autoFetch.city : "" }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">State</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.state ? autoFetch.state : "" }}
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">ZIP</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.zipcode ? autoFetch.zipcode : "" }}
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Specific Placement Requirements"
          >
            <p class="required">
              (If requesting move to more restrictive level of care, Care Center
              must complete scoring tool)
            </p>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Have Kinship Options been explored</span
                  ><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                    name="kinship"
                    value="true"
                    label="Yes"
                    [(ngModel)]="placementRef.kinship"
                    formControlName="kinship"
                  >
                  </p-radioButton>
                  <p-radioButton
                    name="kinship"
                    value="false"
                    label="No"
                    [(ngModel)]="placementRef.kinship"
                    formControlName="kinship"
                  >
                  </p-radioButton>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Desired Care Level <span class="mandatory">*</span></span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="careLevel"
                    (completeMethod)="getMetaData($event, 'desiredCareLevel')"
                    [suggestions]="metaData"
                    name="desiredCareLevel"
                    [(ngModel)]="placementRef.careLevelID"
                    formControlName="careLevelID"
                    (onSelect)="
                      placementRef.careLevelID.careLevelID === 7
                        ? (isCareLevelOtherDesc = false)
                        : (isCareLevelOtherDesc = true)
                    "
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Other Description</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    pInputText
                    name="careLevelOther"
                    [(ngModel)]="placementRef.careLevelOther"
                    [disabled]="isCareLevelOtherDesc"
                    formControlName="careLevelOther"
                  />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span
                    >Date Placement is Needed
                    <span class="mandatory">*</span></span
                  >
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-calendar
                    [showTime]="true"
                    [showIcon]="true"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    [(ngModel)]="placementRef.placementNeeded"
                    name="placementNeeded"
                    yearRange="1900:2030"
                    formControlName="placementNeeded"
                  ></p-calendar>
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Length of Stay</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    pInputText
                    name="lengthOfStay"
                    [(ngModel)]="placementRef.lengthOfStay"
                    formControlName="lengthOfStay"
                  />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Geographical Preferences</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    pInputText
                    name="geographicalPreference"
                    [(ngModel)]="placementRef.geographicalPreference"
                    formControlName="geographicalPreference"
                  />
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>FCH/Facility Preference</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    pInputText
                    name="providerPreference"
                    [(ngModel)]="placementRef.providerPreference"
                    formControlName="providerPreference"
                  />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Case Plan Goal</span><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="casePlanGoal"
                    (completeMethod)="getMetaData($event, 'casePlanGoal')"
                    [suggestions]="metaData"
                    name="casePlanGoalID"
                    [(ngModel)]="placementRef.casePlanGoalID"
                    formControlName="casePlanGoalID"
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Reason for Custody (from 3030)</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{
                    autoFetch.reasonForCustody ? autoFetch.reasonForCustody : ""
                  }}
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Directors Authorization"
          >
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Director</span><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="staffName"
                    (completeMethod)="getMetaData($event, 'director')"
                    [suggestions]="metaData"
                    name="director_StaffID"
                    [(ngModel)]="placementRef.director_StaffID"
                    formControlName="director_StaffID"
                  >
                  </p-autoComplete>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Level of Care Authorized</span
                  ><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="levelOfCareAuthorized"
                    (completeMethod)="
                      getMetaData($event, 'director_LevelOfCareAuthorizedID')
                    "
                    [suggestions]="metaData"
                    name="director_LevelOfCareAuthorizedID"
                    [(ngModel)]="placementRef.director_LevelOfCareAuthorizedID"
                    (onSelect)="
                      authorizedRate =
                        placementRef.director_LevelOfCareAuthorizedID.rate
                    "
                    formControlName="director_LevelOfCareAuthorizedID"
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Rate Authorized</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ authorizedRate }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Date Authorized</span><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-calendar
                    [showTime]="true"
                    [showIcon]="true"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    [(ngModel)]="placementRef.director_DateAuthorized"
                    name="director_DateAuthorized"
                    yearRange="1900:2030"
                    formControlName="director_DateAuthorized"
                  ></p-calendar>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Authorization Length</span
                  ><span class="mandatory">*</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    field="authorizationLength"
                    (completeMethod)="
                      getMetaData($event, 'director_AuthorizationLengthID')
                    "
                    formControlName="director_AuthorizationLengthID"
                    [suggestions]="metaData"
                    name="director_AuthorizationLengthID"
                    [(ngModel)]="placementRef.director_AuthorizationLengthID"
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Specific Placement Requirements"
          >
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span
                    >Reason for Move (Descripe in detail behaviors/events leading
                    to need for move).</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="reasonForMove"
                    [(ngModel)]="placementRef.reasonForMove"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="reasonForMove"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info">1) New Placement Should Have.</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="newPlacementShouldHave"
                    [(ngModel)]="autoFetch.newPlacementShouldHave"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="newPlacementShouldHave"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >2) New Placement Should Not Have.</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="newPlacementShouldNotHave"
                    [(ngModel)]="autoFetch.newPlacementShouldNotHave"
                    formControlName="newPlacementShouldNotHave"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >3) Child Would Like New Placement to Have.</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="childWantsNewPlacementToHave"
                    [(ngModel)]="autoFetch.childWantsNewPlacementToHave"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="childWantsNewPlacementToHave"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info">4) Childs Hobbies and Interests</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="hobbiesInterests"
                    [(ngModel)]="autoFetch.hobbiesInterests"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="hobbiesInterests"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >5) Interventions( What works, What to avoid )</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="interventions"
                    [(ngModel)]="autoFetch.interventions"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="interventions"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >6) Strengths Based Description of Child</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="strengthsBasedDescriptionOfChild"
                    [(ngModel)]="autoFetch.strengthsBasedDescriptionOfChild"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="strengthsBasedDescriptionOfChild"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Client Strengths (minimum of 3 current required) *"
            class="system-info"
          >
            <div class="subnode-header">
              <button (click)="onExportPromptOpen('Client Strength')">
                Exports
              </button>
            </div>
            <div class="subnode-table">
              <table>
                <tr>
                  <th>Strength</th>
                  <th>Information Source</th>
                  <th>Current</th>
                  <th>Explanation</th>
                  <th>Actions</th>
                </tr>
                <tr *ngFor="let clientStrength of clientStrengthList">
                  <td>{{ clientStrength.Strength }}</td>
                  <td>{{ clientStrength.StrengthInformationSource }}</td>
                  <td>
                    <span *ngIf="clientStrength.Current">&#10004;</span>
                    <span *ngIf="!clientStrength.Current">&#10006;</span>
                  </td>
                  <td>{{ clientStrength.Explanation }}</td>
                  <td>
                    <span
                      class="fa fa-edit"
                      pTooltip="Click here to edit"
                      (click)="
                        onSubnodeRowclick('client_strength', clientStrength)
                      "
                    ></span>
                    <button class="edit-button"><span
                      class="fa fa-trash"
                      pTooltip="Click here to delete"
                      (click)="
                        onSubnodeRowdelete('client_strength', clientStrength)
                      "
                    ></span></button>
                  </td>
                </tr>
              </table>
            </div>
            <div class="subnode-footer">
              <button (click)="isClientStrengthForm = true">Add</button>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>Legacy Childs Strengths</span
                  ><span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="strengthsBasedDescriptionOfChild"
                    [disabled]="true"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    formControlName="strengthsBasedDescriptionOfChild"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Visitation (Who child has visitation or visitation restrictions with, including 'No Visitation Allowed'"
            class="system-info"
          >
            <p class="required">Visitations with End Dates do not print</p>
            <div class="subnode-header">
              <button (click)="onExportPromptOpen('Family Member')">
                Exports
              </button>
            </div>
            <div style="margin-bottom: 20px">
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Family Member</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Relationship</th>
                    <th>Restriction Type</th>
                    <th>Frequency</th>
                    <th>Court Ordered</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let sib of clientsSiblingsOohPlacementsList">
                    <td>{{ sib.familyMember }}</td>
                    <td>{{ showTime(sib.beginDate) }}</td>
                    <td>{{ showTime(sib.endDate) }}</td>
                    <td>{{ sib.personType }}</td>
                    <td>{{ sib.RestrictionType }}</td>
                    <td>{{ sib.frequencyType }}</td>
                    <td>
                      <span *ngIf="sib.isCourtOrderedRestriction">&#10004;</span>
                      <span *ngIf="!sib.isCourtOrderedRestriction">&#10006;</span>
                    </td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('extended_familymember', sib)"
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('extended_familymember', sib)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isFamilyMemberForm = true">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Sibiling In OOH Placement *"
            class="system-info"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('sibInOOH')">Exports</button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Name</th>
                    <th>DOB</th>
                    <th>Gender</th>
                    <th>Race</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Can Be Together</th>
                  </tr>
                  <tr *ngFor="let ooh of sibInOOHLists">
                    <td>{{ ooh.Name }}</td>
                    <td>{{ ooh.DOB | date: "dd/MM/yyyy" }}</td>
                    <td>{{ ooh.Gender }}</td>
                    <td>{{ ooh.Race }}</td>
                    <td>{{ ooh.BeginDate | date: "dd/MM/yyyy" }}</td>
                    <td>{{ ooh.EndDate | date: "dd/MM/yyyy" }}</td>
                    <td>{{ ooh.SibReason }}</td>
                  </tr>
                </table>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Placement History"
            class="system-info"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('placementHistory')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Provider Name</th>
                    <th>Level of Care</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Reson For Move</th>
                    <th>Behaviors</th>
                  </tr>
                  <tr *ngFor="let placementHistory of placementHistoriesList">
                    <td>{{placementHistory.ProviderName}}</td>
                    <td>{{placementHistory.LevelofCare}}</td>
                    <td>{{placementHistory.BeginDate}}</td>
                    <td>{{placementHistory.EndDate}}</td>
                    <td>{{placementHistory.ReasonforMove}}</td>
                    <td>{{placementHistory.Behaviors}}</td>
                  </tr>
                </table>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Clients Profile"
            class="system-info"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('Client Profile')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Condition</th>
                    <th>Begin Date</th>
                    <th>Notify Date</th>
                    <th>Last Occurance</th>
                    <th>End Date</th>
                    <th>Frequency Type</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let profile of clientsProfileLists">
                    <td>{{ profile.Condition }}</td>
                    <td>{{ showTime(profile.BeginDate) }}</td>
                    <td>{{ showTime(profile.NotificationDate) }}</td>
                    <td>{{ showTime(profile.LastOccurrence) }}</td>
                    <td>{{ showTime(profile.EndDate) }}</td>
                    <td>{{ profile.FrequencyType }}</td>
                    <td>{{ profile.Notes }}</td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('client_profile', profile)"
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('client_profile', profile)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isClientProfileForm = true">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Preventative Measures *"
            class="system-info"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('preventative-measurements')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Preventative Measures</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let pm of preventativeMeasuresLists">
                    <td>{{ pm.PreventativeMeasure }}</td>
                    <td>{{ showTime(pm.BeginDate) }}</td>
                    <td>{{ showTime(pm.EndDate) }}</td>
                    <td>{{ pm.Notes }}</td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="
                          onSubnodeRowclick('preventative_measurements', pm)
                        "
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('preventative_measurements', pm)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isPreventativeMeasurementForm = true">
                  Add
                </button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Assesments"
            class="system-info"
          >
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('assessment')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Assessment Type</th>
                    <th>Due Date</th>
                    <th>Completed Date</th>
                    <th>Assessment Value</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                  <tr *ngFor="let assessment of assessmentsLists">
                    <td>{{ assessment.assessmentType }}</td>
                    <td>{{ showTime(assessment.dueDate) }}</td>
                    <td>{{ showTime(assessment.completedDate) }}</td>
                    <td>{{ assessment.assessmentValue }}</td>
                    <td>{{ assessment.notes }}</td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('assesments', assessment)"
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('assesments', assessment)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isAssessmentForm = true">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="Medical">
            <div class="medical-height">
              <div>
                <span>Height</span><span class="mandatory">*</span>
                <p-spinner
                  size="30"
                  name="height"
                  [(ngModel)]="placementRef.height"
                  [step]="0.1"
                  [min]="0"
                  formControlName="height"
                >
                </p-spinner>
                Ft/inches
              </div>
              <div>
                <span>Weight</span><span class="mandatory">*</span>
                <p-spinner
                  size="30"
                  name="weight"
                  [(ngModel)]="placementRef.weight"
                  [step]="1"
                  [min]="0"
                  formControlName="weight"
                ></p-spinner>
                lbs
              </div>
            </div>
            <div class="medical">
              <div class="container">
                <span>Current Medical Doctor</span>
                <input
                  type="text"
                  pInputText
                  name="currentDoctor"
                  [(ngModel)]="placementRef.currentDoctor"
                  formControlName="currentDoctor"
                />
                <span>Current Dentist</span>
                <input
                  type="text"
                  pInputText
                  name="currentDentist"
                  [(ngModel)]="placementRef.currentDentist"
                  formControlName="currentDentist"
                />
                <span>Current Eye Doctor</span>
                <input
                  type="text"
                  pInputText
                  name="currentEyeDoctor"
                  [(ngModel)]="placementRef.currentEyeDoctor"
                  formControlName="currentEyeDoctor"
                />
              </div>
              <div class="container">
                <span>State</span>
                <p-autoComplete
                  placeholder="Type here to search"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'state')"
                  [suggestions]="metaData"
                  field="abbreviation"
                  name="doctor_StateID"
                  [(ngModel)]="placementRef.doctor_StateID"
                  (onSelect)="onSelectState($event)"
                  formControlName="doctor_StateID"
                >
                </p-autoComplete>
                <span>State</span>
                <p-autoComplete
                  placeholder="Type here to search"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'state')"
                  [suggestions]="metaData"
                  field="abbreviation"
                  name="dentist_StateID"
                  [(ngModel)]="placementRef.dentist_StateID"
                  (onSelect)="onSelectState($event)"
                  formControlName="dentist_StateID"
                >
                </p-autoComplete>
                <span>State</span>
                <p-autoComplete
                  placeholder="Type here to search"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'state')"
                  [suggestions]="metaData"
                  field="abbreviation"
                  name="eyeDoctor_StateID"
                  [(ngModel)]="placementRef.eyeDoctor_StateID"
                  (onSelect)="onSelectState($event)"
                  formControlName="eyeDoctor_StateID"
                >
                </p-autoComplete>
              </div>
              <div class="container">
                <span>City</span>
                <p-autoComplete
                  placeholder="Select state first"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'city')"
                  [suggestions]="metaData"
                  field="city"
                  name="doctor_CityID"
                  [(ngModel)]="placementRef.doctor_CityID"
                  formControlName="doctor_CityID"
                >
                </p-autoComplete>
                <span>City</span>
                <p-autoComplete
                  placeholder="Select state first"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'city')"
                  [suggestions]="metaData"
                  field="city"
                  name="dentist_CityID"
                  [(ngModel)]="placementRef.dentist_CityID"
                  formControlName="dentist_CityID"
                >
                </p-autoComplete>
                <span>City</span>
                <p-autoComplete
                  placeholder="Select state first"
                  emptyMessage="No records found!"
                  [dropdown]="true"
                  [forceSelection]="true"
                  (completeMethod)="getMetaData($event, 'city')"
                  [suggestions]="metaData"
                  field="city"
                  name="eyeDoctor_CityID"
                  [(ngModel)]="placementRef.eyeDoctor_CityID"
                  formControlName="eyeDoctor_CityID"
                >
                </p-autoComplete>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div style="margin-bottom: 20px">
                <p class="system-info">Any scheduled Appointments</p>
                <div class="subnode-table">
                  <div class="subnode-header">
                    <button (click)="onExportPromptOpen('appointments')">
                      Exports
                    </button>
                  </div>
                  <table>
                    <tr>
                      <th>Appointment Type</th>
                      <th>When</th>
                      <th>Where</th>
                      <th>With Whom</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let appointmentMedical of appointmentsListsMedical">
                      <td>{{ appointmentMedical.appointmentType }}</td>
                      <td>{{ showTime(appointmentMedical.when) }}</td>
                      <td>{{ appointmentMedical.where }}</td>
                      <td>{{ appointmentMedical.withWhom }}</td>
                      <td>
                        <span
                          class="fa fa-edit"
                          pTooltip="Click here to edit"
                          (click)="onSubnodeRowclick('medical', appointmentMedical)"
                        ></span>
                        <button class="edit-button"><span
                          class="fa fa-trash"
                          pTooltip="Click here to delete"
                          (click)="
                            onSubnodeRowdelete('medical', appointmentMedical)
                          "
                        ></span></button>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="subnode-footer">
                  <button (click)="isAppointmentsMedicalForm = true">Add</button>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>Legacy Medical Appointments</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name=""
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    [disabled]="true"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info"
                    >Medical/Health Concerns/Medical Diagnosis If any</span
                  >
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="autoFetch.medicalDiagnosis"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="system-info"
                    >List Allergies: Including foods, Medication and pets ( From
                    Medication & Allergies, editable )</span
                  >
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <!-- [(ngModel)]="autoFetch.clientAllergies" -->
                  <!-- {{(autoFetch.clientAllergies)?autoFetch.clientAllergies:''}} -->
                  <textarea
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="clientAllergies"
                    name="medicalDiagnosis"
                    pInputTextArea
                    style="width: 100%; height: 100%"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Medications (All known medications prescribed for child)"
            class="system-info"
          >
            <span class="required">This meds are not all-inclusive</span>
            <div style="margin-bottom: 20px">
              <div class="subnode-header">
                <button (click)="onExportPromptOpen('medications')">
                  Exports
                </button>
              </div>
              <div class="subnode-table">
                <table>
                  <tr>
                    <th>Medication</th>
                    <th>Dosage</th>
                    <th>Frequency</th>
                    <th>Begin Date</th>
                    <th>End Date</th>
                    <th>Prescribed For</th>
                    <th>Prescribed By</th>
                    <td>Actions</td>
                  </tr>
                  <tr *ngFor="let medication of medicationsLists">
                    <td>{{ medication.Medication }}</td>
                    <td>{{ medication.Dosage }}</td>
                    <td>{{ medication.FrequencyType }}</td>
                    <td>{{ showTime(medication.BeginDate) }}</td>
                    <td>{{ showTime(medication.EndDate) }}</td>
                    <td>{{ medication.PrescribedFor }}</td>
                    <td>{{ medication.PrescribedBy }}</td>
                    <td>
                      <span
                        class="fa fa-edit"
                        pTooltip="Click here to edit"
                        (click)="onSubnodeRowclick('medications', medication)"
                      ></span>
                      <button class="edit-button"><span
                        class="fa fa-trash"
                        pTooltip="Click here to delete"
                        (click)="
                          onSubnodeRowdelete('medications', medication)
                        "
                      ></span></button>
                    </td>
                  </tr>
                </table>
              </div>
              <div class="subnode-footer">
                <button (click)="isMedicationForm = true">Add</button>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="Mental Health">
            <div class="mental-info">
              <div class="margin-top-20 row">
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="col-lg-3 col-lg-3 col-md-3">
                    <span>Current Psychiatrist</span>
                  </div>
                  <div class="col-lg-3 col-lg-3 col-md-3">
                    <input
                      type="text"
                      name="currentPsychiatrist"
                      pInputText
                      [(ngModel)]="placementRef.currentPsychiatrist"
                      formControlName="currentPsychiatrist"
                    />
                  </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="col-lg-3 col-lg-3 col-md-3"><span>State</span></div>
                  <div class="col-lg-3 col-lg-3 col-md-3">
                    <p-autoComplete
                      placeholder="Type here to search"
                      emptyMessage="No records found!"
                      [dropdown]="true"
                      [forceSelection]="true"
                      (completeMethod)="getMetaData($event, 'state')"
                      [suggestions]="metaData"
                      field="abbreviation"
                      name="psychiatrist_StateID"
                      [(ngModel)]="placementRef.psychiatrist_StateID"
                      formControlName="psychiatrist_StateID"
                      (onSelect)="onSelectState($event)"
                    >
                    </p-autoComplete>
                  </div>
                </div>
              </div>
              <div class="margin-top-20 row">
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="col-lg-3 col-lg-3 col-md-3"><span>City</span></div>
                  <div class="col-lg-3 col-lg-3 col-md-3">
                    <p-autoComplete
                      placeholder="Type here to search"
                      emptyMessage="No records found!"
                      [dropdown]="true"
                      [forceSelection]="true"
                      (completeMethod)="getMetaData($event, 'city')"
                      [suggestions]="metaData"
                      field="city"
                      name="psychiatrist_CityID"
                      [(ngModel)]="placementRef.psychiatrist_CityID"
                      formControlName="psychiatrist_CityID"
                    >
                    </p-autoComplete>
                  </div>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span class="pulled-info">Mental Health Diagnosis</span>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name="mentalDiagnosis"
                    [(ngModel)]="autoFetch.mentalDiagnosis"
                    [ngModelOptions]="{ standalone: true }"
                    pInputTextArea
                    style="height: 100%; width: 100%"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Therapist Name</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    name="therapist"
                    pInputText
                    [(ngModel)]="placementRef.therapist"
                    formControlName="therapist"
                  />
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3"><span>Agency</span></div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <input
                    type="text"
                    name="therapist"
                    pInputText
                    [(ngModel)]="placementRef.therapistAgency"
                    formControlName="therapistAgency"
                  />
                </div>
              </div>
            </div>
            <div>
              <div style="margin-bottom: 20px">
                <p>Appointment times line</p>
                <div class="subnode-table">
                  <div class="subnode-header">
                    <button (click)="onExportPromptOpen('appointments')">
                      Exports
                    </button>
                  </div>
                  <table>
                    <tr>
                      <th>Appointment Type</th>
                      <th>When</th>
                      <th>Where</th>
                      <th>With Whom</th>
                      <th>Actions</th>
                    </tr>
                    <tr *ngFor="let appointmentmental of appointmentsListsMental">
                      <td>{{ appointmentmental.appointmentType }}</td>
                      <td>{{ showTime(appointmentmental.when) }}</td>
                      <td>{{ appointmentmental.where }}</td>
                      <td>{{ appointmentmental.withWhom }}</td>
                      <td>
                        <span
                          class="fa fa-edit"
                          pTooltip="Click here to edit"
                          (click)="onSubnodeRowclick('mental', appointmentmental)"
                        ></span>
                        <button class="edit-button"><span
                          class="fa fa-trash"
                          pTooltip="Click here to delete"
                          (click)="
                            onSubnodeRowdelete('mental', appointmentmental)
                          "
                        ></span></button>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="subnode-footer">
                  <button (click)="isAppointmentsForm = true">Add</button>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>Legacy Mental Appointments</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    name=""
                    pInputTextArea
                    style="height: 100%; width: 100%"
                    [disabled]="true"
                  ></textarea>
                </div>
              </div>
            </div>
  
            <div class="margin-top-20 row">
              <div class="radio-group">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-3 col-md-3 col-sm-3">            
                  <p-radioButton
                  name="sEDwithCBS"
                  value="true"
                  label="Yes"
                  [(ngModel)]="autoFetch.sEDwithCBS"
                  formControlName="sEDwithCBS"
                ></p-radioButton>
                <p-radioButton
                  name="sEDwithCBS"
                  value="false"
                  label="No"
                  [(ngModel)]="autoFetch.sEDwithCBS"
                  formControlName="sEDwithCBS"
                ></p-radioButton>
                </div>
                <div class="col-lg-5 col-md-5 col-sm-5">
                  <span class="system-info"
                  >SED with Community Base Services? (from BH Determination)<span
                    class="mandatory"
                    >*</span
                  ></span
                >
                </div>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="MR/DD Services">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="qualifyMRDD"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.qualifyMRDD"
                formControlName="qualifyMRDD"
              >
              </p-radioButton>
              <p-radioButton
                name="qualifyMRDD"
                value="false"
                label="No"
                [(ngModel)]="placementRef.qualifyMRDD"
                formControlName="qualifyMRDD"
              >
              </p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                >Could Child Qualify For MR/DD Services?
                <span class="mandatory">*</span></span
              >
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="diagnosedMRDD"
                value="true"
                label="Yes"
                [(ngModel)]="autoFetch.diagnosedMRDD"
                formControlName="diagnosedMRDD"
              >
              </p-radioButton>
              <p-radioButton
                name="diagnosedMRDD"
                value="false"
                label="No"
                [(ngModel)]="autoFetch.diagnosedMRDD"
                formControlName="diagnosedMRDD"
              >
              </p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span class="system-info"
                  >Has Child Been Diagnosised for MR/DD? (from childs profile)</span
                >
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                (onClick)="onWaiverSelect()"
                name="MR/DD"
                value="true"
                label="Yes"
                [(ngModel)]="mrddwaiver"
                [ngModelOptions]="{ standalone: true }"
              ></p-radioButton>
              <p-radioButton
                (onClick)="onWaiverSelect()"
                name="MR/DD"
                value="false"
                label="No"
                [(ngModel)]="mrddwaiver"
                [ngModelOptions]="{ standalone: true }"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                >If yes, Does child have an MR/DD Wiaver? (from Waiver
                Activity)</span
              >
                </div>
              </div>
            </div>
            <div class="radio-group">
              <p-autoComplete
                [disabled]="isTierLevelDisabled"
                placeholder="Type here to search"
                emptyMessage="No records found!"
                [dropdown]="true"
                [forceSelection]="true"
                (completeMethod)="getMetaData($event, 'tierLevelType')"
                [suggestions]="metaData"
                field="tierLevelType"
                name="tierLevelID"
                [(ngModel)]="placementRef.tierLevelID"
                [ngModelOptions]="{ standalone: true }"
              >
              </p-autoComplete>
  
              <span>If yes, what tier level? (from Waiver Activity)</span>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="receiveSSFunding"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.receiveSSFunding"
                formControlName="receiveSSFunding"
              ></p-radioButton>
              <p-radioButton
                name="receiveSSFunding"
                value="false"
                label="No"
                [(ngModel)]="placementRef.receiveSSFunding"
                formControlName="receiveSSFunding"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                >Does the child receive any social security funding?
                <span class="mandatory">*</span>
              </span>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="School Information">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span class="system-info">Current School</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  {{ autoFetch.currentSchool ? autoFetch.currentSchool : "" }}
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Grade</span> <span class="mandatory"></span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    (completeMethod)="getMetaData($event, 'gradeID')"
                    [suggestions]="metaData"
                    field="grade"
                    name="gradeID"
                    [(ngModel)]="placementRef.gradeID"
                    formControlName="gradeID"
                  >
                  </p-autoComplete>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Special Education Type</span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-autoComplete
                    placeholder="Type here to search"
                    emptyMessage="No records found!"
                    [dropdown]="true"
                    [forceSelection]="true"
                    (completeMethod)="
                      getMetaData($event, 'specialEducationTypeID')
                    "
                    [suggestions]="metaData"
                    field="specialEducationType"
                    name="specialEducationTypeID"
                    [(ngModel)]="placementRef.specialEducationTypeID"
                    formControlName="specialEducationTypeID"
                  >
                  </p-autoComplete>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <span>Date of Last IEP</span>
                  <span>
                    <p-checkbox
                      class="margin-left-2rem"
                      (onChange)="onDateLastIEMSelect($event)"
                      binary="true"
                    >
                    </p-checkbox>
                  </span>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-calendar
                    [disabled]="isDateIEPdisabled"
                    [showTime]="true"
                    [showIcon]="true"
                    [(ngModel)]="placementRef.dateOfLastIEP"
                    [monthNavigator]="true"
                    [yearNavigator]="true"
                    name="dateOfLastIEP"
                    yearRange="1900:2030"
                    formControlName="dateOfLastIEP"
                  >
                  </p-calendar>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span
                    >Behavior Probelms at School (include frequency and
                    severity)</span
                  >
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    name="schoolBehaviorProblems"
                    [(ngModel)]="placementRef.schoolBehaviorProblems"
                    formControlName="schoolBehaviorProblems"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="needsGED"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.needsGED"
                formControlName="needsGED"
              ></p-radioButton>
              <p-radioButton
                name="needsGED"
                value="false"
                label="No"
                [(ngModel)]="placementRef.needsGED"
                formControlName="needsGED"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Needs GED? <span class="mandatory">*</span> </span>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="Court Involvement">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="no_Run_Order"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.no_Run_Order"
                formControlName="no_Run_Order"
              >
              </p-radioButton>
              <p-radioButton
                name="no_Run_Order"
                value="false"
                label="No"
                [(ngModel)]="placementRef.no_Run_Order"
                formControlName="no_Run_Order"
              >
              </p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                >Is there a current "No Run" order?
                <span class="mandatory">*</span>
              </span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                  name="anyPendingCharges"
                  value="true"
                  label="Yes"
                  [(ngModel)]="placementRef.anyPendingCharges"
                  formControlName="anyPendingCharges"
                  (click)="onRadioButtonChanges($event, 'pendingCharges')"
                ></p-radioButton>
                <p-radioButton
                  name="anyPendingCharges"
                  value="false"
                  label="No"
                  [(ngModel)]="placementRef.anyPendingCharges"
                  (click)="onRadioButtonChanges($event, 'pendingCharges')"
                  formControlName="anyPendingCharges"
                >
                </p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Are there any pending criminal charges?</span>
              <span class="mandatory">*</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>If yes, please list pending charges?</span>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="isPendingCharges">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    name="pendingCharges"
                    [(ngModel)]="placementRef.pendingCharges"
                    formControlName="pendingCharges"
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="needsCommunityService"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.needsCommunityService"
                formControlName="needsCommunityService"
                (click)="onRadioButtonChanges($event, 'communtiyServiceHours')"
              ></p-radioButton>
              <p-radioButton
                name="needsCommunityService"
                value="false"
                label="No"
                [(ngModel)]="placementRef.needsCommunityService"
                formControlName="needsCommunityService"
                (click)="onRadioButtonChanges($event, 'communtiyServiceHours')"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span
                  >Does youth need to complete community service hours?
                  <span class="mandatory">*</span>
                </span>
                </div>
              </div>
            </div>
            <div>
              <p-spinner
                name="communityServiceHours"
                formControlName="communityServiceHours"
                [(ngModel)]="placementRef.communityServiceHours"
                [step]="0.1"
                maxlength="8"
                [disabled]="isCommunityServiceHours"
              >
              </p-spinner>
              <span class="margin-left-1"
                >If yes, how many hours do they need to complete?</span
              >
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span>List all court orders specific to placement</span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <textarea
                    pInputTextArea
                    style="width: 100%; height: 100%"
                    name="courtOrdersSpecificToPlacement"
                    [(ngModel)]="placementRef.courtOrdersSpecificToPlacement"
                    formControlName="courtOrdersSpecificToPlacement"
                  ></textarea>
                </div>
              </div>
            </div>
          </p-accordionTab>
          <p-accordionTab
            [selected]="isTabCollapsed"
            header="Safety Plan Information"
          >
          <div class="margin-top-20 row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <div class="col-lg-3 col-md-3 col-sm-3">
                <p-radioButton
                name="hasSafetyPlan"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.hasSafetyPlan"
                formControlName="hasSafetyPlan"
              >
              </p-radioButton>
              <p-radioButton
                name="hasSafetyPlan"
                value="false"
                label="No"
                [(ngModel)]="placementRef.hasSafetyPlan"
                formControlName="hasSafetyPlan"
              >
              </p-radioButton>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <span
                >Does this child have a previous maintenance or safety plan of
                file? <span class="mandatory">*</span>
              </span>
              </div>
            </div>
          </div>
          <div class="margin-top-20 row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <div class="col-lg-3 col-md-3 col-sm-3">
                <p-radioButton
                name="needsSafetyPlan"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.needsSafetyPlan"
                formControlName="needsSafetyPlan"
              >
              </p-radioButton>
              <p-radioButton
                name="needsSafetyPlan"
                value="false"
                label="No"
                [(ngModel)]="placementRef.needsSafetyPlan"
                formControlName="needsSafetyPlan"
              >
              </p-radioButton>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <span
                >Does this child need a maintenance or safety plan prior to new
                placement? <span class="mandatory">*</span>
              </span>
              </div>
            </div>
          </div>
          <div class="margin-top-20 row">
            <div class="col-lg-6 col-md-6 col-sm-6">
              <div class="col-lg-3 col-md-3 col-sm-3">
                <p-radioButton
                name="reviewedForAccuracy"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.reviewedForAccuracy"
                formControlName="reviewedForAccuracy"
              ></p-radioButton>
              <p-radioButton
                name="reviewedForAccuracy"
                value="false"
                label="No"
                [(ngModel)]="placementRef.reviewedForAccuracy"
                formControlName="reviewedForAccuracy"
              ></p-radioButton>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                <span
                >Has this placement referral been reviewed for accuracy?
                <span class="mandatory">*</span>
              </span>
              </div>
            </div>
          </div>
          </p-accordionTab>
          <p-accordionTab [selected]="isTabCollapsed" header="Other Information">
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="isInitial"
                value="true"
                label="Yes"
                [(ngModel)]="placementRef.isInitial"
                formControlName="isInitial"
              >
              </p-radioButton>
              <p-radioButton
                name="isInitial"
                value="false"
                label="No"
                [(ngModel)]="placementRef.isInitial"
                formControlName="isInitial"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Is this the initial placement?</span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                [disabled]="isWithdrawDisable"
                [(ngModel)]="isWithDrawal"
                [ngModelOptions]="{ standalone: true }"
                name="isThisInitial"
                value="Yes"
                label="Yes"
              ></p-radioButton>
              <p-radioButton
                [disabled]="isWithdrawDisable"
                [(ngModel)]="isWithDrawal"
                [ngModelOptions]="{ standalone: true }"
                name="isThisInitial"
                value="No"
                label="No"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Do you want to withdrawal this placement referral? </span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                  [disabled]="isDraftDisabled"
                  name="isDraft"
                  label="Yes"
                  [(ngModel)]="isDraft"
                  [ngModelOptions]="{ standalone: true }"
                ></p-radioButton>
                <p-radioButton
                  [disabled]="isDraftDisabled"
                  name="isDraft"
                  value="No"
                  label="No"
                  [(ngModel)]="isDraft"
                  [ngModelOptions]="{ standalone: true }"
                ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Is this a draft? </span>
                </div>
              </div>
            </div>
            <div class="margin-top-20 row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="col-lg-3 col-md-3 col-sm-3">
                  <p-radioButton
                name="isPrivate"
                value="true"
                label="Yes"
                formControlName="isPrivate"
                [(ngModel)]="placementRef.isPrivate"
              ></p-radioButton>
              <p-radioButton
                name="isPrivate"
                value="false"
                label="No"
                formControlName="isPrivate"
                [(ngModel)]="placementRef.isPrivate"
              ></p-radioButton>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                  <span>Is this private? </span>
                </div>
              </div>
            </div>
          </p-accordionTab>
        </p-accordion>
      </form>
      </div>
    <app-form-footer
      [discardTo]="discardTo"
      [isPrintNavigation]="isPrintNavigation"
      (save)="formAction()"
      [editControll]="isEditControl"
      (edit)="editForm()"
      [currentNodeValue]="req"
      [isFormLog]="isFormLog"
      [formLogInfo]="formLogInfo"
    ></app-form-footer>
  </div>
</div>

<!--Modal windows-->

<!--Client strength form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Client Strength's - {{ clientName }}"
  [(visible)]="isClientStrengthForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <form class="sf-form" [formGroup]="clientStrengthForm">
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Strength</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [(ngModel)]="strength.strengthID"
            [suggestions]="metaData"
            formControlName="StrengthID"
            emptyMessage="No results found!"
            placeholder="Type here to search"
            [forceSelection]="true"
            (completeMethod)="getMetaData($event, 'strength')"
            field="strength"
            [dropdown]="true"
          ></p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Information Source</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [(ngModel)]="strength.strengthInformationSourceID"
            [suggestions]="metaData"
            formControlName="strengthInformationSourceID"
            (completeMethod)="getMetaData($event, 'source')"
            field="strengthInformationSource"
            [dropdown]="true"
          ></p-autoComplete>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Current</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-inputSwitch
            name="strength"
            [(ngModel)]="strength.current"
            formControlName="current"
          ></p-inputSwitch>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6"></div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="col-lg-3 col-md-3 col-md-3">
          <span>Explanation</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12">
          <textarea
            name="notes"
            pInputTextarea
            style="width: 100%; height: 100%"
            [(ngModel)]="strength.explanation"
            cols="60"
            rows="5"
            formControlName="explanation"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
  <div>
    <button (click)="subNodeFormAction('client_strength', strength)">
      Save
    </button>
  </div>
</p-dialog>

<!--Visitation (Extended family member) form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Family Members - {{ clientName }}"
  [(visible)]="isFamilyMemberForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <form class="sf-form" [formGroup]="extendedFamilyForm">
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Family Member </span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [(ngModel)]="fpExtendedFamily.familyMemberID"
            formControlName="familyMemberID"
            name="familyMemberID"
            [dropdown]="true"
            [forceSelection]="true"
            [suggestions]="metaData"
            (completeMethod)="getMetaData($event, 'familyMember')"
            field="name"
          >
          </p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Begin Date</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            [(ngModel)]="fpExtendedFamily.beginDate"
            formControlName="beginDate"
            name="beginDate"
            [showTime]="true"
            [showIcon]="true"
            [monthNavigator]="true"
            [yearNavigator]="true"
            yearRange="1900:2030"
            (onSelect)="generatePersonTypes(fpExtendedFamily.beginDate)"
          ></p-calendar>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>End Date</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            [(ngModel)]="fpExtendedFamily.endDate"
            formControlName="endDate"
            name="endDate"
            [showTime]="true"
            [showIcon]="true"
            [monthNavigator]="true"
            [yearNavigator]="true"
            yearRange="1900:2030"
          ></p-calendar>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Relationship</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [(ngModel)]="fpExtendedFamily.personTypeID"
            formControlName="personTypeID"
            name="personTypeID"
            [dropdown]="true"
            [suggestions]="metaData"
            [forceSelection]="true"
            (completeMethod)="getMetaData($event, 'relationship')"
            field="personType"
          >
          </p-autoComplete>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Family Member Type</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [(ngModel)]="fpExtendedFamily.familyMemberTypeID"
            formControlName="familyMemberTypeID"
            name="familyMemberTypeID"
            [suggestions]="metaData"
            [dropdown]="true"
            [forceSelection]="true"
            (completeMethod)="getMetaData($event, 'memberType')"
            field="familyMemberType"
          >
          </p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Restriction Type</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [(ngModel)]="fpExtendedFamily.restrictionTypeID"
            formControlName="restrictionTypeID"
            name="restrictionTypeID"
            [dropdown]="true"
            [suggestions]="metaData"
            [forceSelection]="true"
            (completeMethod)="getMetaData($event, 'restrictionType')"
            field="restrictionType"
          >
          </p-autoComplete>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Restriction Court Ordered</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-checkbox
            binary="true"
            [(ngModel)]="fpExtendedFamily.IsCourtOrderedRestriction"
            name="IsCourtOrderedRestriction"
            formControlName="IsCourtOrderedRestriction"
          ></p-checkbox>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Frequency</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [(ngModel)]="fpExtendedFamily.frequencyTypeID"
            formControlName="frequencyTypeID"
            name="frequencyTypeID"
            [dropdown]="true"
            [suggestions]="metaData"
            [forceSelection]="true"
            (completeMethod)="getMetaData($event, 'frequency')"
            field="frequencyType"
          >
          </p-autoComplete>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Frequency Court Ordered</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-checkbox
            binary="true"
            [(ngModel)]="fpExtendedFamily.isCourtOrderedFrequency"
            name="isCourtOrderedFrequency"
            formControlName="isCourtOrderedFrequency"
          ></p-checkbox>
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3"><span>Deceased Date</span></div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input type="text" readonly />
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Removal Parent</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-checkbox
            binary="true"
            name="removalParent"
            formControlName="isRemovalParent"
            [(ngModel)]="fpExtendedFamily.isRemovalParent"
          ></p-checkbox>
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Annual Household Income</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            name="annualHouseholdIncome"
            size="27"
            formControlName="annualHouseholdIncome"
            [(ngModel)]="fpExtendedFamily.annualHouseholdIncome"
          />
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Number Living In Household</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            name="numberLivingInHousehold"
            [(ngModel)]="fpExtendedFamily.numberLivingInHousehold"
            size="27"
            formControlName="numberLivingInHousehold"
          />
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Single Parent Household</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-checkbox
            binary="true"
            name="singleParentHousehold"
            formControlName="isSingleParentHousehold"
            [(ngModel)]="fpExtendedFamily.isSingleParentHousehold"
          ></p-checkbox>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Family Refused</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-checkbox
            binary="true"
            name="familyRefused"
            formControlName="familyRefused"
            [(ngModel)]="fpExtendedFamily.familyRefused"
          ></p-checkbox>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Notes</span>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <textarea
            [(ngModel)]="fpExtendedFamily.notes"
            formControlName="notes"
            name="notes"
            pInputTextarea
            style="width: 100%; height: 100%"
            cols="60"
            rows="5"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
  <div>
    <button
      (click)="subNodeFormAction('extended_familymember', fpExtendedFamily)"
    >
      Save
    </button>
  </div>
</p-dialog>

<!--Siblings in OOH Placement form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Siblings in OOH - {{ clientName }}"
  [(visible)]="isSiblingsFormOOH"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
</p-dialog>

<!--Placement History form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Placement - {{ clientName }}"
  [(visible)]="isPlacementHistoryForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
</p-dialog>

<!--Client's profile form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Client Profile - {{ clientName }}"
  [(visible)]="isClientProfileForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <form class="sf-form" [formGroup]="clientProfileForm">
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Condition</span>
          <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            formControlName="condition"
            emptyMessage="No results found!"
            placeholder="Type here to search"
            [forceSelection]="true"
            [suggestions]="metaData"
            (completeMethod)="getMetaData($event, 'condition')"
            [(ngModel)]="clientProfile.conditionID"
            [dropdown]="true"
            field="condition"
          ></p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span class="sf-labels">Begin Date</span>
          <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3 subForms">
          <p-calendar
            formControlName="beginDate"
            [showIcon]="true"
            name="beginDate"
            [(ngModel)]="clientProfile.beginDate"
          ></p-calendar>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span class="sf-labels">End Date</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3 subForms">
          <p-calendar
            formControlName="endDate"
            [showIcon]="true"
            [(ngModel)]="clientProfile.endDate"
            name="endDate"
          >
          </p-calendar>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span class="sf-labels">Notification Date</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3 subForms">
          <p-calendar
            formControlName="notificationDate"
            [showIcon]="true"
            [(ngModel)]="clientProfile.notificationDate"
            name="notification_date"
          ></p-calendar>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span class="sf-labels">Last Occurance </span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3 subForms">
          <p-calendar
            formControlName="lastOccurrence"
            [showIcon]="true"
            name="lastOccurrence"
            [(ngModel)]="clientProfile.lastOccurrence"
          ></p-calendar>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span class="sf-labels">Frequency Type</span>
          <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3 subForms">
          <p-autoComplete
            formControlName="frequency_type"
            emptyMessage="No results found!"
            placeholder="Type here to search"
            [forceSelection]="true"
            [suggestions]="metaData"
            (completeMethod)="getMetaData($event, 'frequency_type')"
            [dropdown]="true"
            name="frequency_type"
            [(ngModel)]="clientProfile.frequencyTypeID"
            field="frequencyType"
          ></p-autoComplete>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span class="sf-labels">Risk</span>
          <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3 subForms">
          <p-autoComplete
            formControlName="risk"
            emptyMessage="No results found!"
            placeholder="Type here to search"
            [forceSelection]="true"
            [suggestions]="metaData"
            (completeMethod)="getMetaData($event, 'risk')"
            [dropdown]="true"
            name="risk"
            [(ngModel)]="clientProfile.riskID"
            field="risk"
          ></p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Note Any Injuries</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            formControlName="note_any_injuries"
            size="27"
            name="any_injuries"
            [(ngModel)]="clientProfile.noteAnyInjuries"
          />
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Who Needs To Be Protected</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            formControlName="be_protected"
            size="27"
            name="be_protected"
            [(ngModel)]="clientProfile.whoNeedsToBeProtected"
          />
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Triggers</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            formControlName="triggers"
            size="27"
            name="triggeres"
            [(ngModel)]="clientProfile.triggers"
          />
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="col-lg-1 col-md-1 col-sm-1">
          <span class="sf-labels">Notes</span>
          <span class="mandatory">*</span>
        </div>
        <div class="col-lg-11 col-md-11 col-sm-11">
          <textarea
            formControlName="notes"
            class="sf-width-100"
            rows="4"
            name="notes"
            [(ngModel)]="clientProfile.notes"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
  <div>
    <button (click)="subNodeFormAction('client_profile', clientProfile)">
      Save
    </button>
  </div>
</p-dialog>

<!--Preventative measurement form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Client Preventative Measures - {{ clientName }}"
  [(visible)]="isPreventativeMeasurementForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <form class="sf-form" [formGroup]="preventativeMeasurementsForm">
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Preventative Measure</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            name="preventativeMeasureID"
            formControlName="preventativeMeasureID"
            [(ngModel)]="pm.preventativeMeasureID"
            [suggestions]="metaData"
            [forceSelection]="true"
            placeholder="Type here to search"
            emptyMessage="No results found!"
            (completeMethod)="getMetaData($event, 'preventativeMeasure')"
            [dropdown]="true"
            field="preventativeMeasure"
            size="23"
          ></p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Begin Date</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            name="dateInput"
            formControlName="beginDate"
            [(ngModel)]="pm.beginDate"
            [showIcon]="true"
            showTime="true"
            hourFormat="24"
            [yearNavigator]="true"
            [monthNavigator]="true"
            yearRange="2000:2030"
          >
          </p-calendar>
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>End Date</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            name="dateInput"
            formControlName="endDate"
            [(ngModel)]="pm.endDate"
            [showIcon]="true"
            showTime="true"
            hourFormat="24"
            [yearNavigator]="true"
            [monthNavigator]="true"
            yearRange="2000:2030"
          >
          </p-calendar>
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Notes</span> <span class="mandatory">*</span>
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <textarea
            pInputTextArea
            formControlName="notes"
            name="notes"
            [(ngModel)]="pm.notes"
            style="width: 100%; height: 100%"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
  <div>
    <button (click)="subNodeFormAction('preventative_measurements', pm)">
      Save
    </button>
  </div>
</p-dialog>

<!--Assessment form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Assessments - {{ clientName }}"
  [(visible)]="isAssessmentForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <form class="sf-form" [formGroup]="assessmentForm">
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Assessment Category</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [dropdown]="true"
            [forceSelection]="true"
            formControlName="assessmentCategory"
            name="assessmentCategory"
            [(ngModel)]="fpassess.assessmentCat"
            (completeMethod)="getMetaData($event, 'asssessCat')"
            [suggestions]="metaData"
            field="groupName"
            (onSelect)="generateAssessmentType($event)"
          >
          </p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Assessment Type </span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            [dropdown]="true"
            formControlName="assessmentTypeID"
            [forceSelection]="true"
            name="assessmentTypeID"
            [(ngModel)]="fpassess.assessmentTypeID"
            (completeMethod)="searchAssessmentType($event)"
            [suggestions]="filteredAssessmentType"
            field="assessmentType"
            (onSelect)="dueDateCalculation($event)"
            emptyMessage="No records found!"
          >
          </p-autoComplete>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Due Date</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            [disabled]="true"
            [showIcon]="true"
            [monthNavigator]="true"
            [yearNavigator]="true"
            yearRange="1900:2030"
            name="dueDate"
            [(ngModel)]="fpassess.dueDate"
            formControlName="dueDate"
            [readonlyInput]="true"
          ></p-calendar>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Completed Date</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            [showIcon]="true"
            [monthNavigator]="true"
            [yearNavigator]="true"
            yearRange="1900:2030"
            name="completedDate"
            [(ngModel)]="fpassess.completedDate"
            formControlName="completedDate"
          ></p-calendar>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Date Sent To DCF </span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            [showIcon]="true"
            [monthNavigator]="true"
            [yearNavigator]="true"
            yearRange="1900:2030"
            name="dateSentToSRS"
            [(ngModel)]="fpassess.dateSentToSRS"
            formControlName="dateSentToSRS"
          ></p-calendar>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Assessment Value</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="number"
            formControlName="assessmentValue"
            pInputText
            name="assessmentValue"
            [(ngModel)]="fpassess.assessmentValue"
          />
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>On Time</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-checkbox
            name="isOnTime"
            [(ngModel)]="fpassess.isOnTime"
            formControlName="isOnTime"
            binary="true"
          >
          </p-checkbox>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Accurate</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-checkbox
            name="isAccurate"
            [(ngModel)]="fpassess.isAccurate"
            formControlName="isAccurate"
            binary="true"
          >
          </p-checkbox>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>N/A</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-checkbox
            name="isNA"
            [(ngModel)]="fpassess.isNA"
            formControlName="isNA"
            binary="true"
          ></p-checkbox>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Notes</span>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <textarea
            name="notes"
            pInputTextarea
            style="width: 100%; height: 100%"
            cols="60"
            rows="5"
            formControlName="notes"
            [(ngModel)]="fpassess.notes"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
  <div>
    <button (click)="subNodeFormAction('assesments', fpassess)">Save</button>
  </div>
</p-dialog>

<!--Appointments form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Appointments - {{ clientName }}"
  [(visible)]="isAppointmentsForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <form class="sf-form" [formGroup]="appointmentmentalForm">
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Appointment Type</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            formControlName="appointmentTypeID"
            [(ngModel)]="appointmentMental.appointmentTypeID"
            [suggestions]="metaData"
            (completeMethod)="getMetaData($event, 'appointmentType')"
            [dropdown]="true"
            field="appointmentType"
            size="23"
          ></p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>When</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            name="dateInput"
            [(ngModel)]="appointmentMental.when"
            formControlName="when"
            [showIcon]="true"
            showTime="true"
            hourFormat="24"
            [yearNavigator]="true"
            [monthNavigator]="true"
            yearRange="2000:2030"
          >
          </p-calendar>
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Where</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            formControlName="where"
            name="inputText"
            [(ngModel)]="appointmentMental.where"
            maxlength="100"
            size="27"
          />
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3"><span>With Whom</span></div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            formControlName="withWhom"
            name="inputText"
            maxlength="100"
            [(ngModel)]="appointmentMental.withWhom"
            size="27"
          />
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3"><span>Attended</span></div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <!-- <p-autoComplete formControlName="" [(ngModel)]="appointment.a" [suggestions]="metaData" (completeMethod)="getMetaData($event,'primary_ref_reason')"
                  [dropdown]="true" field="" size="23"></p-autoComplete> -->
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12 col-sm-12 col-md-12">
        <div class="col-lg-12 col-sm-12 col-md-12">
          <textarea
            pInputTextArea
            style="width: 100%; height: 100%"
            [(ngModel)]="appointmentMental.notes"
            name="notes"
            formControlName="notes"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
  <div>
    <button (click)="subNodeFormAction('mental', appointmentMental)">
      Save
    </button>
  </div>
</p-dialog>

<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Appointments - {{ clientName }}"
  [(visible)]="isAppointmentsMedicalForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <form class="sf-form" [formGroup]="appointmentmedicalForm">
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Appointment Type</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            formControlName="appointmentTypeID"
            [(ngModel)]="appointmentMedical.appointmentTypeID"
            [suggestions]="metaData"
            (completeMethod)="getMetaData($event, 'appointmentMedicalType')"
            [dropdown]="true"
            field="appointmentType"
            size="23"
          ></p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>When</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            name="dateInput"
            [(ngModel)]="appointmentMedical.when"
            formControlName="when"
            [showIcon]="true"
            showTime="true"
            hourFormat="24"
            [yearNavigator]="true"
            [monthNavigator]="true"
            yearRange="2000:2030"
          >
          </p-calendar>
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Where</span><span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            formControlName="where"
            name="inputText"
            [(ngModel)]="appointmentMedical.where"
            maxlength="100"
            size="27"
          />
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3"><span>With Whom</span></div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            pInputText
            formControlName="withWhom"
            name="inputText"
            maxlength="100"
            [(ngModel)]="appointmentMedical.withWhom"
            size="27"
          />
        </div>
      </div>
    </div>
    <div class="margin-top-20 row">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3"><span>Attended</span></div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <!-- <p-autoComplete formControlName="" [(ngModel)]="appointment.a" [suggestions]="metaData" (completeMethod)="getMetaData($event,'primary_ref_reason')"
                  [dropdown]="true" field="" size="23"></p-autoComplete> -->
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12 col-sm-12 col-md-12">
        <div class="col-lg-12 col-sm-12 col-md-12">
          <textarea
            pInputTextArea
            style="width: 100%; height: 100%"
            [(ngModel)]="appointmentMedical.notes"
            name="notes"
            formControlName="notes"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
  <div>
    <button (click)="subNodeFormAction('medical', appointmentMedical)">
      Save
    </button>
  </div>
</p-dialog>

<!--Medications and alergies form-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Client Medications & Allergies - {{ clientName }}"
  [(visible)]="isMedicationForm"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <form class="sf-form" [formGroup]="medicationForm">
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Medication</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            formControlName="medication"
            pInputText
            name="medication"
            [(ngModel)]="medication.medication"
            maxlength="50"
          />
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Dosage</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-spinner
            name="Dosage"
            formControlName="dosage"
            [(ngModel)]="medication.dosage"
            [step]="0.1"
            maxlength="8"
          >
          </p-spinner>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Dosage Type</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            formControlName="dosage_type"
            [(ngModel)]="medication.dosageTypeID"
            [suggestions]="metaData"
            (completeMethod)="getMetaData($event, 'dosage')"
            field="dosageType"
            [dropdown]="true"
            [forceSelection]="true"
          ></p-autoComplete>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Frequency</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-autoComplete
            formControlName="frequency"
            [(ngModel)]="medication.frequencyTypeID"
            [suggestions]="metaData"
            (completeMethod)="getMetaData($event, 'frequency')"
            field="frequencyType"
            [dropdown]="true"
            [forceSelection]="true"
          >
          </p-autoComplete>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Begin Date</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            formControlName="beignDate"
            [(ngModel)]="medication.beginDate"
            [showTime]="true"
            [showIcon]="true"
            [monthNavigator]="true"
            [yearNavigator]="true"
            yearRange="1900:2030"
          ></p-calendar>
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>End Date</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <p-calendar
            formControlName="endDate"
            [(ngModel)]="medication.endDate"
            [showTime]="true"
            [showIcon]="true"
            [monthNavigator]="true"
            [yearNavigator]="true"
            yearRange="1900:2030"
          ></p-calendar>
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Prescribed For</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            formControlName="prescribedFor"
            pInputText
            name="prescribed_by"
            maxlength="40"
            [(ngModel)]="medication.prescribedFor"
          />
        </div>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Prescribed By</span> <span class="mandatory">*</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            formControlName="prescribed_by"
            pInputText
            name="prescribed_by"
            maxlength="40"
            [(ngModel)]="medication.prescribedBy"
          />
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="col-lg-3 col-md-3 col-sm-3">
          <span>Source of Info</span>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-3">
          <input
            type="text"
            formControlName="source_info"
            pInputText
            name="source_info"
            maxlength="40"
            [(ngModel)]="medication.sourceOfInfo"
          />
        </div>
      </div>
    </div>
    <div class="row margin-top-20">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <div class="col-lg-3 col-md-3 col-md-3">
          <span>Frequency Notes</span>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12">
          <textarea
            name="notes"
            formControlName="frequencyNotes"
            pInputTextarea
            style="width: 100%; height: 100%"
            [(ngModel)]="medication.frequencyNotes"
            cols="60"
            rows="5"
          ></textarea>
        </div>
      </div>
    </div>
  </form>
  <div>
    <button (click)="subNodeFormAction('medications', medication)">Save</button>
  </div>
</p-dialog>

<!--Exports file name-->
<p-dialog
  [contentStyle]="{ 'min-width': '106rem' }"
  header="Placement Referral Exports"
  [(visible)]="isExportsPrompt"
  [modal]="true"
  [responsive]="true"
  [minY]="70"
  [baseZIndex]="10000"
  [closable]="true"
>
  <div class="file-name-input-area">
    <span>Please enter file name to export:</span>
    <input
      type="text"
      name="exportFile"
      [(ngModel)]="exportFileName"
      pInputText
    />
    <button (click)="onExportFile()">Submit</button>
    <button (click)="exportFileName = ''">Clear</button>
  </div>
  <div *ngIf="isExportTextShow" class="info-text">
    <p>Please wait. Your export process has initiated</p>
  </div>
</p-dialog>
