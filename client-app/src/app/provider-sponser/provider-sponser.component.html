<app-form-header [breadcrumbs]="breadcrumbs"></app-form-header>
<div id="loading-overlay">
  <p class="loader-text">
    <img src="/assets/loader/loader_new.gif" alt="loder" width="150px">
  </p>
</div>
<div class="container-background">
  <div class="container-foreground">
    <div *ngIf="isOpenCardsVisible" class="row">
      <div class="col-lg-2 col-md-2 col-sm-2">
        <div class="card-header-row">
          <div class="opencard-menu-container rfcOpencard">
            <div class="dropdown border-none">
              <span class="fa fa-th opencard-menu" data-toggle="dropdown" pTooltip="OpenCards"></span>
              <div class="dropdown-menu opencard-box">
                <div class="card-container">
                  <div class="opencard" pTooltip="Click here to open" (click)=navigateTo(item.title)
                    *ngFor="let item of providerSponsorOpencards">
                    <div class="opencard-info">
                      <span class="title">{{item.title}}</span>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <form class="sf-form form-container" [formGroup]="psForm">
      <div class="margin-top-20 row">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Sponser Name</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <input type="text" pInputText [(ngModel)]="ps.sponsorName" formControlName="sponsorName" name="inputText"
              size="27" />
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Acronym</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <p-inputSwitch></p-inputSwitch>
          </div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Alias</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <input type="text" pInputText [(ngModel)]="ps.alias" formControlName="alias" name="inputText" size="27" />
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Con.ST</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <p-autoComplete [dropdown]="true" name="gradeID" emptyMessage="No results found!"
              (completeMethod)="getMetaData($event,'conST')" [suggestions]="metaData" [(ngModel)]="ps.contract_StateID"
              formControlName="contract_StateID" [forceSelection]="true" placeholder="Type here to search"
              field="abbreviation" size="23"></p-autoComplete>
          </div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Phone</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <p-inputMask mask="(999) 999-9999" [(ngModel)]="ps.phone" name="phone" formControlName="phone">
            </p-inputMask>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Fax</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <p-inputMask mask="(999) 999-9999" [(ngModel)]="ps.fax" name="fax" formControlName="fax"></p-inputMask>
          </div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Federal Tax#</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <input type="text" pInputText formControlName="taxNo" [(ngModel)]="ps.taxNo" name="inputText" size="27" />
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Medicaid#</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <input type="text" pInputText formControlName="medicaidNo" [(ngModel)]="ps.medicaidNo" name="inputText"
              size="27" />
          </div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Address</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <input type="text" pInputText formControlName="address1" [(ngModel)]="ps.address1" name="inputText"
              size="27" />
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>Address 2</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <input type="text" pInputText formControlName="address2" [(ngModel)]="ps.address2" name="inputText"
              size="27" />
          </div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>State</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <p-autoComplete [dropdown]="true" name="gradeID" emptyMessage="No results found!"
              (completeMethod)="getMetaData($event,'state')" [suggestions]="metaData"
              (onSelect)="getCityFormState($event)" formControlName="stateID" [(ngModel)]="ps.stateID"
              [forceSelection]="true" placeholder="Type here to search" field="state" size="23"></p-autoComplete>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>City</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <p-autoComplete [dropdown]="true" name="gradeID" emptyMessage="No results found!"
              (completeMethod)="filterCities($event)" [suggestions]="metaData " (onSelect)="getZipcodeFormCity($event)"
              formControlName="cityID" [(ngModel)]="ps.cityID" [forceSelection]="true" placeholder="Type here to search"
              field="city" size="23"></p-autoComplete>
          </div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-6 col-md-6 col-sm-6">
          <div class="col-lg-3 col-md-3 col-sm-3"><span>ZIP</span></div>
          <div class="col-lg-3 col-md-3 col-sm-3">
            <p-autoComplete [suggestions]="metaData" [dropdown]="true" name="gradeID" emptyMessage="No results found!"
              (completeMethod)="filterZipcodes($event)" formControlName="zipcodeID" [(ngModel)]="ps.zipcodeID"
              [forceSelection]="true" placeholder="Type here to search" field="zipcode" size="23"></p-autoComplete>
          </div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <div class="col-lg-12 col-md-12 col-sm-12"><span>Notes</span></div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <textarea pInputTextArea style="width:100%;height:100%" formControlName="notes"
              [(ngModel)]="ps.notes"></textarea>
          </div>
        </div>
      </div>
      <div class="margin-top-20 row">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="footer-info">
              <p-checkbox binary="true" label="SFCS Sponsorship" formControlName="isSFCSSponsor"
                [(ngModel)]="ps.isSFCSSponsor"></p-checkbox>
              <p-checkbox binary="true" label="Show in the loop" formControlName="isTheLoop" [(ngModel)]="ps.isTheLoop">
              </p-checkbox>
            </div>
          </div>
        </div>
      </div>
    </form>
    <app-form-footer [discardTo]="discardTo" (save)="formAction(ps)" [isFormLog]="isFormLog" [formLogInfo]="formLogInfo"></app-form-footer>
  </div>
</div>
